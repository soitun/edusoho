!function(e){function r(r){for(var a,o,i=r[0],c=r[1],d=r[2],u=0,f=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(l&&l(r);f.length;)f.shift()();return s.push.apply(s,d||[]),t()}function t(){for(var e,r=0;r<s.length;r++){for(var t=s[r],a=!0,i=1;i<t.length;i++){var c=t[i];0!==n[c]&&(a=!1)}a&&(s.splice(r--,1),e=o(o.s=t[0]))}return e}var a={},n={159:0},s=[];function o(r){if(a[r])return a[r].exports;var t=a[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=a,o.d=function(e,r,t){o.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,r){if(1&r&&(e=o(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)o.d(t,a,function(r){return e[r]}.bind(null,a));return t},o.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(r,"a",r),r},o.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},o.p="/static-dist/";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=r,i=i.slice();for(var d=0;d<i.length;d++)r(i[d]);var l=c;s.push([1240,0]),t()}({1240:function(e,r,t){"use strict";t.r(r);var a=t(4),n=t.n(a),s=t(5),o=t.n(s),i=(t(110),t(84)),c=t(53),d=t(8),l=t(228),u=t(126);t(269),new(function(){function e(){n()(this,e),this.event(),this.dragHtml=$(".js-drag-box").html(),$(".js-drag-box").remove(),"none"==$("#password-reset-form").css("display")?$("#password-reset-by-mobile-form").prepend(this.dragHtml):$("#password-reset-form").prepend(this.dragHtml),this.drag=new i.a($("#drag-btn"),$(".js-jigsaw"),{limitType:"reset_password"}),this.smsEvent(),this.validator(),this.smsToken=""}return o()(e,[{key:"event",value:function(){var e=this;$(".js-find-password li").click((function(){var r=$(this);if(!r.hasClass("active")){r.addClass("active").siblings().removeClass("active");var t=$(r.data("target"));t.length>0&&($("form").hide(),e.drag.unbindEvent(),$(".js-drag").remove(),t.prepend(e.dragHtml),e.drag=new i.a($("#drag-btn"),$(".js-jigsaw"),{limitType:"reset_password"}),t.show())}})),$(".js-reset-password-open-eye").on("click",(function(){$("#reset_password").attr("type","password"),$(".js-reset-password-open-eye").hide(),$(".js-reset-password-close-eye").show()})),$(".js-reset-password-close-eye").on("click",(function(){$("#reset_password").attr("type","text"),$(".js-reset-password-close-eye").hide(),$(".js-reset-password-open-eye").show()}))}},{key:"smsEvent",value:function(){var e=this,r=$(".js-sms-send"),t=this;r.click((function(a){var n=(new u.a).getCoordinate(a,$("meta[name=csrf-token]").attr("content"));if(e.mobileValidator.element($('[name="dragCaptchaToken"]'))&&e.mobileValidator.element($('[name="mobile"]'))){if(r.hasClass("disabled"))return;r.addClass("disabled"),c.a.resetPasswordSms.get({params:{mobile:$("#mobile").val()},data:{dragCaptchaToken:$('[name="dragCaptchaToken"]').val(),encryptedPoint:n}}).then((function(e){Object(d.a)("success",Translator.trans("notify.sms_send_success.message")),r.removeClass("disabled"),Object(l.a)($(".js-sms-send"),$("#js-fetch-btn-text"),120),t.smsToken=e.smsToken})).catch((function(){r.removeClass("disabled"),t.drag.initDragCaptcha()}))}}))}},{key:"validator",value:function(){var e=this;$("#password-reset-form").validate({rules:{email:{required:!0,email:!0},dragCaptchaToken:{required:!0}},messages:{dragCaptchaToken:{required:Translator.trans("site.captcha_code.required")}},submitHandler:function(r){var t=$("#password-reset-form").find('[name="email"]').val();c.a.resetPasswordEmail.patch({params:{email:t},data:{dragCaptchaToken:$('[name="dragCaptchaToken"]').val()}}).then((function(e){Object(d.a)("success",Translator.trans("notify.password_reset_email_send_success.message")),window.location.href=$("#password-reset-form").data("success")+"?email="+t})).catch((function(r){4040104==(r.responseJSON.error.code||0)&&e.drag.initDragCaptcha()}))}}),$.validator.addMethod("passwordSms",(function(r,t){var a=!1;return c.a.resetPasswordSms.validate({params:{mobile:$("#mobile").val(),smsCode:$("#sms-code").val()},data:{smsToken:e.smsToken},async:!1,promise:!1}).success((function(e){a="sms.code.success"==e})),a}),$.validator.format(Translator.trans("validate.sms_code.message"))),this.mobileValidator=$("#password-reset-by-mobile-form").validate({rules:{mobile:{required:!0,phone:!0},sms_code:{required:!0,unsigned_integer:!0,rangelength:[6,6],passwordSms:!0},dragCaptchaToken:{required:!0},reset_password:{required:!0,password_normal:!0}},messages:{sms_code:{required:Translator.trans("auth.password_reset.sms_code_required_hint"),rangelength:Translator.trans("auth.password_reset.sms_code_validate_hint")},dragCaptchaToken:{required:Translator.trans("site.captcha_code.required")}},submitHandler:function(r){c.a.resetPasswordMobile.patch({params:{mobile:$("#mobile").val()},data:{smsToken:e.smsToken,smsCode:$("#sms-code").val(),encrypt_password:window.XXTEA.encryptToBase64($("#reset_password").val(),window.location.host),dragCaptchaToken:$('[name="dragCaptchaToken"]').val()}}).then((function(e){Object(d.a)("success",Translator.trans("notify.password_reset_success.message")),window.location.href=$("#password-reset-form").data("success")+"?mobile="+$("#mobile").val()}))}})}}]),e}())},228:function(e,r,t){"use strict";t.d(r,"a",(function(){return a}));var a=function e(r,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};if(r.addClass("disabled").attr("disabled",!0),t.data("count-down-text")||t.data("count-down-text",t.text()),t.text(a+" 秒后重新获取"),--a<0)return r.removeClass("disabled").attr("disabled",!1),t.text(t.data("count-down-text")),void n();setTimeout((function(){e(r,t,a,n)}),1e3)}},269:function(e,r){!function(e){"use strict";var r,t;void 0===e.btoa&&(e.btoa=(r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),function(e){var t,a,n,s,o,i,c;for(a=n=0,s=e.length,i=(s-=o=s%3)/3<<2,o>0&&(i+=4),t=new Array(i);a<s;)c=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++),t[n++]=r[c>>18]+r[c>>12&63]+r[c>>6&63]+r[63&c];return 1==o?(c=e.charCodeAt(a++),t[n++]=r[c>>2]+r[(3&c)<<4]+"=="):2==o&&(c=e.charCodeAt(a++)<<8|e.charCodeAt(a++),t[n++]=r[c>>10]+r[c>>4&63]+r[(15&c)<<2]+"="),t.join("")})),void 0===e.atob&&(e.atob=(t=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],function(e){var r,a,n,s,o,i,c,d,l,u;if((c=e.length)%4!=0)return"";if(/[^ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\+\/\=]/.test(e))return"";for(l=c,(d="="==e.charAt(c-2)?1:"="==e.charAt(c-1)?2:0)>0&&(l-=4),l=3*(l>>2)+d,u=new Array(l),o=i=0;o<c&&-1!=(r=t[e.charCodeAt(o++)])&&-1!=(a=t[e.charCodeAt(o++)])&&(u[i++]=String.fromCharCode(r<<2|(48&a)>>4),-1!=(n=t[e.charCodeAt(o++)]))&&(u[i++]=String.fromCharCode((15&a)<<4|(60&n)>>2),-1!=(s=t[e.charCodeAt(o++)]));)u[i++]=String.fromCharCode((3&n)<<6|s);return u.join("")}));var a=2654435769;function n(e,r){var t=e.length,a=t<<2;if(r){var n=e[t-1];if(n<(a-=4)-3||n>a)return null;a=n}for(var s=0;s<t;s++)e[s]=String.fromCharCode(255&e[s],e[s]>>>8&255,e[s]>>>16&255,e[s]>>>24&255);var o=e.join("");return r?o.substring(0,a):o}function s(e,r){var t,a=e.length,n=a>>2;0!=(3&a)&&++n,r?(t=new Array(n+1))[n]=a:t=new Array(n);for(var s=0;s<a;++s)t[s>>2]|=e.charCodeAt(s)<<((3&s)<<3);return t}function o(e){return 4294967295&e}function i(e,r,t,a,n,s){return(t>>>5^r<<2)+(r>>>3^t<<4)^(e^r)+(s[3&a^n]^t)}function c(e){return e.length<4&&(e.length=4),e}function d(e){if(/^[\x00-\x7f]*$/.test(e))return e;for(var r=[],t=e.length,a=0,n=0;a<t;++a,++n){var s=e.charCodeAt(a);if(s<128)r[n]=e.charAt(a);else if(s<2048)r[n]=String.fromCharCode(192|s>>6,128|63&s);else{if(!(s<55296||s>57343)){if(a+1<t){var o=e.charCodeAt(a+1);if(s<56320&&56320<=o&&o<=57343){var i=65536+((1023&s)<<10|1023&o);r[n]=String.fromCharCode(240|i>>18&63,128|i>>12&63,128|i>>6&63,128|63&i),++a;continue}}throw new Error("Malformed string")}r[n]=String.fromCharCode(224|s>>12,128|s>>6&63,128|63&s)}}return r.join("")}function l(e,r){return(null==r||r<0)&&(r=e.length),0===r?"":/^[\x00-\x7f]*$/.test(e)||!/^[\x00-\xff]*$/.test(e)?r===e.length?e:e.substr(0,r):r<65535?function(e,r){for(var t=new Array(r),a=0,n=0,s=e.length;a<r&&n<s;a++){var o=e.charCodeAt(n++);switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t[a]=o;break;case 12:case 13:if(!(n<s))throw new Error("Unfinished UTF-8 octet sequence");t[a]=(31&o)<<6|63&e.charCodeAt(n++);break;case 14:if(!(n+1<s))throw new Error("Unfinished UTF-8 octet sequence");t[a]=(15&o)<<12|(63&e.charCodeAt(n++))<<6|63&e.charCodeAt(n++);break;case 15:if(!(n+2<s))throw new Error("Unfinished UTF-8 octet sequence");var i=((7&o)<<18|(63&e.charCodeAt(n++))<<12|(63&e.charCodeAt(n++))<<6|63&e.charCodeAt(n++))-65536;if(!(0<=i&&i<=1048575))throw new Error("Character outside valid Unicode range: 0x"+i.toString(16));t[a++]=i>>10&1023|55296,t[a]=1023&i|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+o.toString(16))}}return a<r&&(t.length=a),String.fromCharCode.apply(String,t)}(e,r):function(e,r){for(var t=[],a=new Array(32768),n=0,s=0,o=e.length;n<r&&s<o;n++){var i=e.charCodeAt(s++);switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a[n]=i;break;case 12:case 13:if(!(s<o))throw new Error("Unfinished UTF-8 octet sequence");a[n]=(31&i)<<6|63&e.charCodeAt(s++);break;case 14:if(!(s+1<o))throw new Error("Unfinished UTF-8 octet sequence");a[n]=(15&i)<<12|(63&e.charCodeAt(s++))<<6|63&e.charCodeAt(s++);break;case 15:if(!(s+2<o))throw new Error("Unfinished UTF-8 octet sequence");var c=((7&i)<<18|(63&e.charCodeAt(s++))<<12|(63&e.charCodeAt(s++))<<6|63&e.charCodeAt(s++))-65536;if(!(0<=c&&c<=1048575))throw new Error("Character outside valid Unicode range: 0x"+c.toString(16));a[n++]=c>>10&1023|55296,a[n]=1023&c|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+i.toString(16))}if(n>=32766){var d=n+1;a.length=d,t[t.length]=String.fromCharCode.apply(String,a),r-=d,n=-1}}return n>0&&(a.length=n,t[t.length]=String.fromCharCode.apply(String,a)),t.join("")}(e,r)}function u(e,r){return null==e||0===e.length?e:(e=d(e),r=d(r),n(function(e,r){var t,n,s,c,d,l,u=e.length,f=u-1;for(n=e[f],s=0,l=0|Math.floor(6+52/u);l>0;--l){for(c=(s=o(s+a))>>>2&3,d=0;d<f;++d)t=e[d+1],n=e[d]=o(e[d]+i(s,t,n,d,c,r));t=e[0],n=e[f]=o(e[f]+i(s,t,n,f,c,r))}return e}(s(e,!0),c(s(r,!1))),!1))}function f(e,r){return null==e||0===e.length?e:(r=d(r),l(n(function(e,r){var t,n,s,c,d,l=e.length,u=l-1;for(t=e[0],s=o(Math.floor(6+52/l)*a);0!==s;s=o(s-a)){for(c=s>>>2&3,d=u;d>0;--d)n=e[d-1],t=e[d]=o(e[d]-i(s,t,n,d,c,r));n=e[u],t=e[0]=o(e[0]-i(s,t,n,0,c,r))}return e}(s(e,!1),c(s(r,!1))),!0)))}e.XXTEA={utf8Encode:d,utf8Decode:l,encrypt:u,encryptToBase64:function(r,t){return e.btoa(u(r,t))},decrypt:f,decryptFromBase64:function(r,t){return null==r||0===r.length?r:f(e.atob(r),t)}}}(window)},35:function(e,r){e.exports=jQuery}});