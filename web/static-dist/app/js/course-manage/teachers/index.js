!function(e){function t(t){for(var n,o,i=t[0],l=t[1],c=t[2],p=0,h=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);h.length;)h.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={230:0},s=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/static-dist/";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;s.push([1300,0]),a()}({100:function(e,t,a){"use strict";a.d(t,"a",(function(){return M}));var n=a(12),r=a.n(n),s=a(25),o=a.n(s),i=a(4),l=a.n(i),c=a(5),u=a.n(c),p=a(70),h=a.n(p),m=a(27),d=a.n(m),f=a(28),v=a.n(f),y=a(11),b=a.n(y),g=a(31),T=a.n(g),k=a(7),N=a.n(k),P=a(93),S=a(123);function C(e){var t=I();return function(){var a,n=b()(e);if(t){var s=b()(this).constructor;a=r()(n,arguments,s)}else a=n.apply(this,arguments);return v()(this,a)}}function I(){try{var e=!Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}var x=function(e){d()(a,e);var t=C(a);function a(e){var n;return l()(this,a),(n=t.call(this,e)).state={resultful:n.props.resultful},n}return u()(a,[{key:"render",value:function(){var e=this,t=[];return this.props.searchResult.map((function(a,n){var r=N.a.createElement("li",{key:n},N.a.createElement("a",{"data-item":o()(a),onClick:function(t){return e.handleChange(t)},"data-name":a.nickname},a.nickname));t.push(r)})),t.length<=0&&t.push(N.a.createElement("li",{className:"not-find"},N.a.createElement("a",null,Translator.trans("site.data.not_found")))),N.a.createElement("ul",{className:"dropdown-menu options ".concat(this.state.resultful&&"show"," ")},t)}},{key:"handleChange",value:function(e){this.setState({resultful:!1});var t=e.currentTarget.attributes["data-item"].value;this.props.selectChange(e.currentTarget.attributes["data-name"].value,JSON.parse(t))}}]),a}(k.Component),E=a(58),U=a.n(E);function w(e){var t=B();return function(){var a,n=b()(e);if(t){var s=b()(this).constructor;a=r()(n,arguments,s)}else a=n.apply(this,arguments);return v()(this,a)}}function B(){try{var e=!Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){})))}catch(e){}return(B=function(){return!!e})()}var O=function(e){d()(a,e);var t=w(a);function a(e){var n;return l()(this,a),(n=t.call(this,e)).state={itemName:"",searched:!0,resultful:!1,searchResult:[]},n.timer=!1,n.subscribeMessage(),n}return u()(a,[{key:"subscribeMessage",value:function(){var e=this;U.a.subscribe({channel:"courseInfoMultiInput",topic:"addMultiInput",callback:function(){console.log("add"),e.handleAdd()}})}},{key:"selectChange",value:function(e,t){t&&this.context.addItem(e,t),this.setState({itemName:""})}},{key:"onFocus",value:function(e){this.setState({searched:!0})}},{key:"handleNameChange",value:function(e){var t=this,a=e.currentTarget.value;this.setState({itemName:a,searchResult:[],resultful:!1}),!this.context.searchable.enable||a.length<0||!this.state.searched||(this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){!function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"POST";$.ajax({url:e,type:n,data:a,success:function(e){t&&"function"==typeof t&&t(e)},error:function(){t&&"function"==typeof t&&t([])}})}(t.context.searchable.url+a,(function(e){t.state.itemName.length>0&&(console.log({searchResult:e}),t.setState({searchResult:e,resultful:!0}))}))}),500))}},{key:"handleAdd",value:function(){Object(S.c)(this.state.itemName).length>0&&this.context.addItem(this.state.itemName,this.state.itemData),this.setState({itemName:"",searchResult:[],resultful:!1})}},{key:"render",value:function(){var e=this,t=Translator.trans("site.data.create");return N.a.createElement("div",{className:"input-group"},N.a.createElement("input",{className:"form-control",value:this.state.itemName,onChange:function(t){return e.handleNameChange(t)},onFocus:function(t){return e.onFocus(t)}}),this.context.searchable.enable&&this.state.resultful&&N.a.createElement(x,{searchResult:this.state.searchResult,selectChange:function(t,a){return e.selectChange(t,a)},resultful:this.state.resultful}),this.context.addable&&N.a.createElement("span",{className:"input-group-btn"},N.a.createElement("a",{className:"btn btn-default",onClick:function(){return e.handleAdd()}},t)))}}]),a}(k.Component);O.contextTypes={addItem:N.a.PropTypes.func,addable:N.a.PropTypes.bool,searchable:N.a.PropTypes.shape({enable:N.a.PropTypes.bool,url:N.a.PropTypes.string})};var j=a(106);function V(e){var t=_();return function(){var a,n=b()(e);if(t){var s=b()(this).constructor;a=r()(n,arguments,s)}else a=n.apply(this,arguments);return v()(this,a)}}function _(){try{var e=!Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}function D(e,t){var a={itemId:Object(j.a)(),label:t,outputValue:t};e.push(a)}var M=function(e){d()(a,e);var t=V(a);function a(e){var n;return l()(this,a),n=t.call(this,e),T()(h()(n),"removeItem",(function(e){var t=e.currentTarget.attributes["data-item-id"].value;!function(e,t){for(var a=0;a<e.length;a++)if(e[a].itemId==t){e.splice(a,1);break}}(n.state.dataSourceUi,t),n.setState({dataSourceUi:n.state.dataSourceUi})})),T()(h()(n),"sortItem",(function(e){n.state.dataSourceUi=function(e,t){for(var a=[],n=0;n<e.length;n++)for(var r=0;r<t.length;r++)if(e[n]==t[r].itemId){a.push(t[r]);break}return a}(e,n.state.dataSourceUi),n.setState({dataSourceUi:n.state.dataSourceUi})})),T()(h()(n),"addItem",(function(e,t){D(n.state.dataSourceUi,e),n.setState({dataSourceUi:n.state.dataSourceUi})})),n}return u()(a,[{key:"componentWillMount",value:function(){var e=this;this.state={dataSourceUi:[]},this.props.dataSource.map((function(t,a){D(e.state.dataSourceUi,t)})),console.log({"initItem after":this.state.dataSourceUi})}},{key:"getChildContext",value:function(){return{removeItem:this.removeItem,sortItem:this.sortItem,addItem:this.addItem,addable:this.props.addable,searchable:this.props.searchable,sortable:this.props.sortable,listClassName:this.props.listClassName,inputName:this.props.inputName,dataSourceUi:this.state.dataSourceUi}}},{key:"getOutputSets",value:function(){var e=[];return this.state.dataSourceUi.map((function(t,a){e.push(t.outputValue)})),e}},{key:"getList",value:function(){return N.a.createElement(P.a,null)}},{key:"render",value:function(){var e=this.getList(),t=this.getOutputSets();return N.a.createElement("div",{className:"multi-group"},e,this.props.showAddBtnGroup&&N.a.createElement(O,null),N.a.createElement("input",{type:"hidden",name:this.props.outputDataElement,value:o()(t)}))}}]),a}(k.Component);M.propTypes={multiInputClassName:N.a.PropTypes.string,listClassName:N.a.PropTypes.string,dataSource:N.a.PropTypes.array.isRequired,sortable:N.a.PropTypes.bool,addable:N.a.PropTypes.bool,searchable:N.a.PropTypes.shape({enable:N.a.PropTypes.bool,url:N.a.PropTypes.string}),showAddBtnGroup:N.a.PropTypes.bool,inputName:N.a.PropTypes.string,checkBoxName:N.a.PropTypes.string,outputDataElement:N.a.PropTypes.string},M.defaultProps={multiInputClassName:"multi-group",listClassName:"",dataSource:[],sortable:!0,addable:!0,searchable:{enable:!1,url:""},showAddBtnGroup:!0,inputName:"",checkBoxName:"visible_",outputDataElement:"hidden-input"},M.childContextTypes={removeItem:N.a.PropTypes.func,sortItem:N.a.PropTypes.func,addItem:N.a.PropTypes.func,addable:N.a.PropTypes.bool,searchable:N.a.PropTypes.shape({enable:N.a.PropTypes.bool,url:N.a.PropTypes.string}),sortable:N.a.PropTypes.bool,listClassName:N.a.PropTypes.string,inputName:N.a.PropTypes.string,dataSourceUi:N.a.PropTypes.array.isRequired}},106:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(){return Math.random().toString().replace(".","")}},1300:function(e,t,a){"use strict";a.r(t);var n=a(169),r=a.n(n),s=a(7),o=a.n(s),i=a(187);r.a.render(o.a.createElement(i.a,{addable:!0,dataSource:$("#course-teachers").data("init-value"),outputDataElement:"teachers",inputName:"ids[]",searchable:{enable:!0,url:$("#course-teachers").data("query-url")+"?q="}}),document.getElementById("course-teachers")),$('[data-toggle="tooltip"]').tooltip({html:!0}),$(".js-btn-save").on("click",(function(e){"[]"!==$("input[name=teachers]").val()?$("#teachers-form").submit():cd.message({type:"warning",message:Translator.trans("course.manage.min_teacher_num_error_hint")})}))},187:function(e,t,a){"use strict";a.d(t,"a",(function(){return J}));var n=a(20),r=a.n(n),s=a(103),o=a.n(s),i=a(71),l=a.n(i),c=a(69),u=a.n(c),p=a(72),h=a.n(p),m=a(50),d=a.n(m),f=a(12),v=a.n(f),y=a(4),b=a.n(y),g=a(5),T=a.n(g),k=a(70),N=a.n(k),P=a(27),S=a.n(P),C=a(28),I=a.n(C),x=a(11),E=a.n(x),U=a(31),w=a.n(U),B=a(7),O=a.n(B),j=a(100),$=a(93);function V(e,t){var a=d()(e);if(h.a){var n=h()(e);t&&(n=n.filter((function(t){return u()(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){w()(e,t,a[t])})):l.a?o()(e,l()(a)):V(Object(a)).forEach((function(t){r()(e,t,u()(a,t))}))}return e}function D(e){var t=M();return function(){var a,n=E()(e);if(t){var r=E()(this).constructor;a=v()(n,arguments,r)}else a=n.apply(this,arguments);return I()(this,a)}}function M(){try{var e=!Boolean.prototype.valueOf.call(v()(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}var R=function(e){S()(a,e);var t=D(a);function a(e){return b()(this,a),t.call(this,e)}return T()(a,[{key:"render",value:function(){var e=this,t=this.context,a=t.dataSourceUi,n=t.listClassName,r=t.sortable,s=t.showCheckbox,o=t.showDeleteBtn,i=t.checkBoxName,l=t.inputName,c="";return a.length>0&&(c="list-group"),O.a.createElement("ul",{id:this.listId,className:"multi-list sortable-list ".concat(c," ").concat(n)},a.map((function(t,a){return O.a.createElement("li",{className:"list-group-item",id:t.itemId,key:a,"data-seq":t.seq},r&&O.a.createElement("i",{className:"es-icon es-icon-yidong mrl color-gray inline-block vertical-middle"}),O.a.createElement("img",{className:"avatar-sm avatar-sm-square mrm",src:t.avatar}),O.a.createElement("span",{className:"label-name text-overflow inline-block vertical-middle"},t.nickname),O.a.createElement("label",{className:s?"":"hidden"},O.a.createElement("input",{type:"checkbox",name:i+t.id,checked:t.isVisible,onChange:function(t){return e.context.onChecked(t)},value:t.itemId}),Translator.trans("course.manage.teacher_display_label")),O.a.createElement("span",{"data-toggle":"tooltip","data-placement":"top",title:Translator.trans(t.isLiveTeacher?"course.teacher.hover.title.live_teacher":"del.role.theater.hover.title"),className:t.isCanceledTeacherRoles||t.isLiveTeacher?"pull-right mtm mlm":"hidden"},O.a.createElement("i",{className:"es-icon es-icon-infooutline text-16 text-FF7D00"})),O.a.createElement("a",{className:o&&!t.isLiveTeacher?"pull-right link-gray mtm":"hidden",onClick:function(t){return e.context.removeItem(t)},"data-item-id":t.itemId},O.a.createElement("i",{className:"es-icon es-icon-close01 text-16"})),O.a.createElement("input",{type:"hidden",name:l,value:t.id}))})))}}]),a}($.a);function q(e,t){var a=d()(e);if(h.a){var n=h()(e);t&&(n=n.filter((function(t){return u()(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){w()(e,t,a[t])})):l.a?o()(e,l()(a)):q(Object(a)).forEach((function(t){r()(e,t,u()(a,t))}))}return e}function A(e){var t=F();return function(){var a,n=E()(e);if(t){var r=E()(this).constructor;a=v()(n,arguments,r)}else a=n.apply(this,arguments);return I()(this,a)}}function F(){try{var e=!Boolean.prototype.valueOf.call(v()(Boolean,[],(function(){})))}catch(e){}return(F=function(){return!!e})()}function G(e,t,a,n){var r,s={itemId:Math.random(),nickname:t[n.nickname],isVisible:1==t[n.isVisible],avatar:t[n.avatar],seq:a,id:t[n.id],isCanceledTeacherRoles:t.isCanceledTeacherRoles,isLiveTeacher:t.isLiveTeacher,outputValue:(r={},w()(r,n.id,t[n.id]),w()(r,n.isVisible,t[n.isVisible]),r)};e.push(s)}R.contextTypes=_(_({},$.a.contextTypes),{},{showCheckbox:O.a.PropTypes.bool,showDeleteBtn:O.a.PropTypes.bool,checkBoxName:O.a.PropTypes.string,onChecked:O.a.PropTypes.func});var J=function(e){S()(a,e);var t=A(a);function a(e){var n;return b()(this,a),n=t.call(this,e),w()(N()(n),"onChecked",(function(e){var t=e.currentTarget.value;!function(e,t){e.map((function(a,n){a.itemId==t&&(e[n].isVisible=!e[n].isVisible,e[n].outputValue.isVisible=e[n].isVisible?1:0)}))}(n.state.dataSourceUi,t),n.setState({dataSourceUi:n.state.dataSourceUi})})),w()(N()(n),"addItem",(function(e,t){if(t){n.props.replaceItem&&(n.state.dataSourceUi=[]),G(n.state.dataSourceUi,t,n.state.dataSourceUi.length+1,n.props);var a=function(e){var t={};return e.reduce((function(e,a){return t[a.id]?cd.message({type:"danger",message:Translator.trans("course.manage.teacher.manage.repeat_tip")}):(t[a.id]=!0,e.push(a)),e}),[])}(n.state.dataSourceUi);n.setState({dataSourceUi:a})}})),n}return T()(a,[{key:"componentWillMount",value:function(){var e=this;this.state={dataSourceUi:[]},this.props.dataSource.map((function(t,a){G(e.state.dataSourceUi,t,a+1,e.props)}))}},{key:"getChildContext",value:function(){return{addable:this.props.addable,searchable:this.props.searchable,sortable:this.props.sortable,listClassName:this.props.listClassName,inputName:this.props.inputName,showCheckbox:this.props.showCheckbox,showDeleteBtn:this.props.showDeleteBtn,checkBoxName:this.props.checkBoxName,onChecked:this.onChecked,removeItem:this.removeItem,sortItem:this.sortItem,addItem:this.addItem,dataSourceUi:this.state.dataSourceUi}}},{key:"getList",value:function(){return O.a.createElement(R,null)}}]),a}(j.a);J.propTypes=L(L({},j.a.propTypes),{},{id:O.a.PropTypes.string,nickname:O.a.PropTypes.string,avatar:O.a.PropTypes.string,isVisible:O.a.PropTypes.string,replaceItem:O.a.PropTypes.bool,showCheckbox:O.a.PropTypes.bool,showDeleteBtn:O.a.PropTypes.bool}),J.defaultProps=L(L({},j.a.defaultProps),{},{id:"id",nickname:"nickname",avatar:"avatar",isVisible:"isVisible",replaceItem:!1,showCheckbox:!0,showDeleteBtn:!0}),J.childContextTypes=L(L({},j.a.childContextTypes),{},{showCheckbox:O.a.PropTypes.bool,showDeleteBtn:O.a.PropTypes.bool,checkBoxName:O.a.PropTypes.string,onChecked:O.a.PropTypes.func})},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(12),r=a.n(n),s=a(4),o=a.n(s),i=a(5),l=a.n(i),c=a(27),u=a.n(c),p=a(28),h=a.n(p),m=a(11),d=a.n(m),f=a(7),v=a.n(f),y=a(107),b=a(106);function g(e){var t=T();return function(){var a,n=d()(e);if(t){var s=d()(this).constructor;a=r()(n,arguments,s)}else a=n.apply(this,arguments);return h()(this,a)}}function T(){try{var e=!Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}var k=function(e){u()(a,e);var t=g(a);function a(e){var n;return o()(this,a),(n=t.call(this,e)).listId=Object(b.a)(),n.$list=null,n.$item=null,n}return l()(a,[{key:"componentDidMount",value:function(){var e=this,t="#".concat(this.listId);this.$list=$(t),this.context.sortable&&(Object(y.a)({element:t,itemSelector:"li",ajax:!1},(function(a){$(t).children().remove(),$(t).append(e.$item),e.context.sortItem(a)})),this.onChange(t))}},{key:"onChange",value:function(e){var t=this;this.$list.on("mousedown","li",(function(){t.$item=$(e).children(".list-group-item")}))}},{key:"componentWillMount",value:function(){this.$item=$(this.listId).children().clone()}},{key:"render",value:function(){var e=this,t=this.context,a=t.dataSourceUi,n=t.sortable,r=t.inputName,s=t.listClassName,o="";return a.length>0&&(o="list-group"),v.a.createElement("ul",{id:this.listId,className:"multi-list sortable-list ".concat(o," ").concat(s)},a.map((function(t,a){return v.a.createElement("li",{className:"list-group-item",id:t.itemId,key:a,"data-seq":t.seq},v.a.createElement("i",{className:n?"es-icon es-icon-yidong drag-icon-btn":"hidden"}),v.a.createElement("span",{className:"content"},t.label),v.a.createElement("a",{className:"move-icon-btn link-gray",onClick:function(t){return e.context.removeItem(t)},"data-item-id":t.itemId},v.a.createElement("i",{className:"es-icon es-icon-close01 "})),v.a.createElement("input",{type:"hidden",name:r,value:t.label}))})))}}]),a}(f.Component);k.contextTypes={removeItem:v.a.PropTypes.func,sortItem:v.a.PropTypes.func,sortable:v.a.PropTypes.bool,listClassName:v.a.PropTypes.string,inputName:v.a.PropTypes.string,dataSourceUi:v.a.PropTypes.array.isRequired}}});