/*! For license information please see index.js.LICENSE.txt */
!function(t){function e(e){for(var r,o,s=e[0],c=e[1],u=e[2],h=0,d=[];h<s.length;h++)o=s[h],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e);d.length;)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={353:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/static-dist/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([1515,0]),n()}({1515:function(t,e,n){"use strict";n.r(e);var r=n(16),a=n.n(r),i=n(26),o=n.n(i),s=n(19),c=n.n(s),u=n(37),l=n.n(u),h=n(13),d=n.n(h),f=n(24),p=n.n(f),v=n(20),m=n.n(v),y=n(23),g=n.n(y),w={props:{active:{type:Boolean,default:!1},id:{type:Number,default:0},question:{type:Object,default:function(){}}},methods:{changeOption:function(){this.$emit("changeOption",this.id)}}},_=n(22),b=Object(_.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"duplicate-question-item",class:t.active?"duplicate-question-active":"",on:{click:t.changeOption}},[n("div",{staticClass:"duplicate-question-title"},[t._v("\n    "+t._s(t._f("stripTags")(t.question.displayMaterial))+"\n  ")]),t._v(" "),n("span",{staticClass:"duplicate-question-check-count"},[t._v(t._s(t.question.frequency)+t._s(t._f("trans")("question.bank.unit")))])])}),[],!1,null,null,null).exports,x={props:{info:{type:Object,default:function(){}}},data:function(){return{item:{id:"15",bank_id:"1",type:"single_choice",material:"",analysis:"",category_id:"0",difficulty:"normal",question_num:"1",created_user_id:"2",updated_user_id:"2",updated_time:"1700014654",created_time:"1700014654",is_deleted:"0",deleted_time:"0",questions:[{id:"25",item_id:"15",stem:"单选1",seq:1,score:"2.0",answer_mode:"single_choice",case_sensitive:"1",response_points:[{radio:{text:"1",val:"A"}},{radio:{text:"2",val:"B"}},{radio:{text:"3",val:"C"}},{radio:{text:"4",val:"D"}}],answer:["A"],analysis:"解析解析",created_user_id:"2",updated_user_id:"2",updated_time:"1700014654",created_time:"1700014654",score_rule:{score:2,scoreType:"question",otherScore:2},is_deleted:"0",deleted_time:"0",attachments:[]}],attachments:[]},showAttachment:$("[name=show_attachment]").val(),cdnHost:$("[name=cdn_host]").val(),fileId:0,isDownload:"1"===JSON.parse($("[name=question_bank_attachment_setting]").val()).enable}},provide:function(){return{modeOrigin:"do"}},mounted:function(){},methods:{previewAttachment:function(t){this.fileId=t},downloadAttachment:function(t){console.log(t),this.fileId=t},previewAttachmentCallback:function(){var t=this,e=this;return new a.a((function(n){$.ajax({url:$("[name=preview-attachment-url]").val(),type:"post",data:{id:t.fileId},beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))}}).done((function(t){t.data.sdkBaseUri=app.cloudSdkBaseUri,t.data.disableDataUpload=app.cloudDisableLogReport,t.data.disableSentry=app.cloudDisableLogReport,n(t),e.fileId=0}))}))},downloadAttachmentCallback:function(){var t=this,e=this;return new a.a((function(n){$.ajax({url:$("[name=download-attachment-url]").val(),type:"post",data:{id:t.fileId},beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))}}).done((function(t){n(t),e.fileId=0}))}))}}},q=Object(_.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ibs-vue",attrs:{id:"app"}},[n("item-preview",{attrs:{item:t.info,showAttachment:t.showAttachment,cdnHost:t.cdnHost,isDownload:t.isDownload,needScore:0,previewAttachmentCallback:t.previewAttachmentCallback,downloadAttachmentCallback:t.downloadAttachmentCallback},on:{previewAttachment:t.previewAttachment,downloadAttachment:t.downloadAttachment}})],1)}),[],!1,null,null,null).exports,k=n(88);n(104);function C(){C=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=m.a||function(t,e,n){t[e]=n.value},s="function"==typeof p.a?p.a:{},u=s.iterator||"@@iterator",h=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function v(t,e,n){return m()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{v({},"")}catch(t){v=function(t,e,n){return t[e]=n}}function y(t,e,n,r){var a=e&&e.prototype instanceof q?e:q,o=d()(a.prototype),s=new Q(r||[]);return i(o,"_invoke",{value:S(t,n,s)}),o}function g(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=y;var w="suspendedStart",_="executing",b="completed",x={};function q(){}function k(){}function L(){}var I={};v(I,u,(function(){return this}));var T=l.a,E=T&&T(T(G([])));E&&E!==n&&r.call(E,u)&&(I=E);var O=L.prototype=q.prototype=d()(I);function D(t){["next","throw","return"].forEach((function(e){v(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(a,i,o,s){var u=g(t[a],t,i);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==c()(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(h).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,a){n(t,r,e,a)}))}return a=a?a.then(i,i):i()}})}function S(e,n,r){var a=w;return function(i,o){if(a===_)throw Error("Generator is already running");if(a===b){if("throw"===i)throw o;return{value:t,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var c=$(s,r);if(c){if(c===x)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===w)throw a=b,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=_;var u=g(e,n,r);if("normal"===u.type){if(a=r.done?b:"suspendedYield",u.arg===x)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=b,r.method="throw",r.arg=u.arg)}}}function $(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,$(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),x;var i=g(a,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,x;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,x):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,x)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Q(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function G(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(c()(e)+" is not iterable")}return k.prototype=L,i(O,"constructor",{value:L,configurable:!0}),i(L,"constructor",{value:k,configurable:!0}),k.displayName=v(L,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return o.a?o()(t,L):(t.__proto__=L,v(t,f,"GeneratorFunction")),t.prototype=d()(O),t},e.awrap=function(t){return{__await:t}},D(A.prototype),v(A.prototype,h,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,i,o){void 0===o&&(o=a.a);var s=new A(y(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},D(O),v(O,f,"Generator"),v(O,u,(function(){return this})),v(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=G,Q.prototype={constructor:Q,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,x):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),x},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),x}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:G(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),x}},e}var L={props:{questionContent:{type:Object,default:function(){}},title:{type:String,default:""},count:{type:Number,default:0},type:{type:String,default:""},activeIndex:{type:Number,default:0},nextIndex:{type:Number,default:0},activeKey:{type:Number,default:0}},data:function(){return{difficultyList:{default:Translator.trans("question.bank.difficulty.default"),simple:Translator.trans("question.bank.difficulty.simple"),normal:Translator.trans("question.bank.difficulty.normal"),difficulty:Translator.trans("question.bank.difficulty")},typeList:{default:Translator.trans("course.question.by.question.type"),single_choice:Translator.trans("course.question.type.single_choice"),choice:Translator.trans("course.question.type.choice"),uncertain_choice:Translator.trans("course.question.type.uncertain_choices"),essay:Translator.trans("course.question.type.essay"),determine:Translator.trans("course.question.type.determine"),fill:Translator.trans("course.question.type.fill"),material:Translator.trans("course.question.type.material")}}},computed:{headInfo:function(){return[{title:Translator.trans("category"),content:this.questionContent.category_name||Translator.trans("question.bank.none")},{title:Translator.trans("question.bank.type"),content:this.typeList[this.questionContent.type]||Translator.trans("question.bank.none")},{title:Translator.trans("question.bank.difficulty.default"),content:this.difficultyList[this.questionContent.difficulty]||Translator.trans("question.bank.none")},{title:Translator.trans("question.bank.update_time"),content:this.$dateFormat(this.questionContent.updated_time)||Translator.trans("question.bank.none")}]}},watch:{activeIndex:function(){var t=this;return g()(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(g()(C().mark((function e(){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.E.getQuestionInfo(t.questionContent.id);case 2:if(0!==(n=e.sent).length){e.next=6;break}return t.showErrorTip(),e.abrupt("return");case 6:t.$emit("changeQuestionContent","".concat(t.type,"Index"),n);case 7:case"end":return e.stop()}}),e)}))),1e3);case 1:case"end":return e.stop()}}),e)})))()}},components:{QuestionItem:q},methods:{getDifficulty:function(t){return this.difficultyList(t)},goPreviousQuestion:function(){var t=this;return g()(C().mark((function e(){var n,r,a,i,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.count<3)){e.next=2;break}return e.abrupt("return");case 2:if(n="one"===t.type?"two":"one",0!=t.activeIndex||t.nextIndex!=t.count-1){e.next=8;break}return r=t.nextIndex-1,e.next=7,t.$emit("changeQuestion",n,r);case 7:case 12:case 20:return e.abrupt("return");case 8:if(t.activeIndex!==t.count-1){e.next=13;break}return a=t.nextIndex!==t.activeIndex-1?t.activeIndex-1:t.activeIndex-2,e.next=12,t.$emit("changeQuestion",t.type,a);case 13:if(t.nextIndex!==t.count-1){e.next=21;break}return i=t.nextIndex!==t.activeIndex-1?t.activeIndex-1:t.activeIndex-2,e.next=17,t.$emit("changeQuestion",t.type,i);case 17:return o=t.activeIndex!==t.activeIndex-1?t.nextIndex-1:t.nextIndex-2,e.next=20,t.$emit("changeQuestion",n,o);case 21:case"end":return e.stop()}}),e)})))()},onDelete:function(){var t,e=this;this.$confirm({title:Translator.trans("question.bank.delete.tip.title"),content:Translator.trans("question.bank.delete.tip.content"),icon:"exclamation-circle",okText:Translator.trans("site.confirm"),cancelText:Translator.trans("site.cancel"),onOk:(t=g()(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.E.delQuestion($("[name=questionBankId]").val(),e.questionContent.id);case 3:if(!t.sent){t.next=10;break}return e.$message.success(Translator.trans("site.delete_success_hint")),t.next=8,e.$emit("changeOption",e.activeKey);case 8:return t.next=10,e.goPreviousQuestion();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.showErrorTip();case 15:case 16:case"end":return t.stop()}}),t,null,[[0,12]])}))),function(){return t.apply(this,arguments)})})},showErrorTip:function(){var t,e=this;this.$error({title:Translator.trans("question.bank.error.tip.title"),content:Translator.trans("question.bank.error.tip.content"),okText:Translator.trans("site.btn.confirm"),onOk:(t=g()(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$emit("getData");case 2:return t.next=4,e.$emit("changeOption");case 4:return t.next=6,e.goPreviousQuestion();case 6:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})})},onEdit:function(){var t=this;return g()(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.E.getQuestionInfo(t.questionContent.id);case 2:if(0!==e.sent.length){e.next=6;break}return t.showErrorTip(),e.abrupt("return");case 6:store.set("DUPLICATE_MATERIAL",t.title),window.location.href="/question_bank/".concat($("[name=questionBankId]").val(),"/duplicative_question/").concat(t.questionContent.id,"/update");case 8:case"end":return e.stop()}}),e)})))()},changeQuestion:function(t){this.$emit("changeQuestion",this.type,t)}}},I=L,T=Object(_.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"duplicate-question-content"},[n("div",{staticClass:"question-num"},t._l(t.count,(function(e,r){return n("button",{key:r,staticClass:"numbering relative",class:t.activeIndex==r?"numbering-active":"",attrs:{disabled:t.nextIndex==r},on:{click:function(e){return t.changeQuestion(r)}}},[t.activeIndex==r?n("img",{staticClass:"numbering-active-img",attrs:{src:"/static-dist/app/img/duplicate-active.png"}}):t._e(),t._v("\n    "+t._s(e)+"\n    ")])})),0),t._v(" "),n("div",{ref:"container",staticClass:"question-content mt8"},[n("div",{staticClass:"question-head"},t._l(t.headInfo,(function(e,r){return n("div",{key:r,staticClass:"question-head-item"},[n("div",{staticClass:"question-small-title"},[t._v(t._s(e.title))]),t._v(" "),n("div",{staticClass:"question-small-content"},[t._v("\n          "+t._s(e.content)+"\n        ")])])})),0),t._v(" "),n("div",{staticClass:"question-body relative"},[n("div",{staticClass:"question-index"},[t._v(t._s(t.activeIndex+1)+".")]),t._v(" "),n("question-item",{attrs:{info:t.questionContent}})],1),t._v(" "),n("div",{staticClass:"question-foot"},[n("a-button",{staticClass:"mr10",on:{click:t.onEdit}},[t._v(t._s(t._f("trans")("site.btn.edit")))]),t._v(" "),n("a-button",{on:{click:t.onDelete}},[t._v(t._s(t._f("trans")("site.delete")))])],1)])])}),[],!1,null,null,null);function E(){E=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=m.a||function(t,e,n){t[e]=n.value},s="function"==typeof p.a?p.a:{},u=s.iterator||"@@iterator",h=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function v(t,e,n){return m()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{v({},"")}catch(t){v=function(t,e,n){return t[e]=n}}function y(t,e,n,r){var a=e&&e.prototype instanceof q?e:q,o=d()(a.prototype),s=new Q(r||[]);return i(o,"_invoke",{value:S(t,n,s)}),o}function g(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=y;var w="suspendedStart",_="executing",b="completed",x={};function q(){}function k(){}function C(){}var L={};v(L,u,(function(){return this}));var I=l.a,T=I&&I(I(G([])));T&&T!==n&&r.call(T,u)&&(L=T);var O=C.prototype=q.prototype=d()(L);function D(t){["next","throw","return"].forEach((function(e){v(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(a,i,o,s){var u=g(t[a],t,i);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==c()(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(h).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,a){n(t,r,e,a)}))}return a=a?a.then(i,i):i()}})}function S(e,n,r){var a=w;return function(i,o){if(a===_)throw Error("Generator is already running");if(a===b){if("throw"===i)throw o;return{value:t,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var c=$(s,r);if(c){if(c===x)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===w)throw a=b,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=_;var u=g(e,n,r);if("normal"===u.type){if(a=r.done?b:"suspendedYield",u.arg===x)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=b,r.method="throw",r.arg=u.arg)}}}function $(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,$(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),x;var i=g(a,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,x;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,x):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,x)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Q(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function G(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(c()(e)+" is not iterable")}return k.prototype=C,i(O,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:k,configurable:!0}),k.displayName=v(C,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return o.a?o()(t,C):(t.__proto__=C,v(t,f,"GeneratorFunction")),t.prototype=d()(O),t},e.awrap=function(t){return{__await:t}},D(A.prototype),v(A.prototype,h,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,r,i,o){void 0===o&&(o=a.a);var s=new A(y(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},D(O),v(O,f,"Generator"),v(O,u,(function(){return this})),v(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=G,Q.prototype={constructor:Q,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,x):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),x},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),x}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:G(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),x}},e}var O={data:function(){return{activeKey:0,introOption:{prevLabel:Translator.trans("course_set.manage.prev_label"),nextLabel:Translator.trans("question.bank.next_label"),skipLabel:Translator.trans("question.bank.skip_label"),doneLabel:Translator.trans("question.bank.finish_label"),showBullets:!1,showStepNumbers:!1,exitOnEsc:!1,exitOnOverlayClick:!1,tooltipClass:"duplicate-intro",steps:[]},oneIndex:0,twoIndex:1,isShowGuide:!1,questionData:[{material:"",frequency:"",displayMaterial:""}],questionContentList:[{analysis:"",category_name:"",type:""}]}},components:{DuplicateQuestionItem:b,DuplicateQuestionContent:T.exports},watch:{questionContentList:function(){var t=this;return g()(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.questionContentList.length){e.next=2;break}return e.abrupt("return");case 2:if(!(t.questionContentList.length>1)){e.next=4;break}return e.abrupt("return");case 4:return t.activeKey==t.questionData.length-1&&(t.activeKey-=1),e.next=7,t.getData();case 7:return e.next=9,t.changeOption(t.activeKey);case 9:case"end":return e.stop()}}),e)})))()},activeKey:function(){this.changeOption(this.activeKey),this.oneIndex=0,this.twoIndex=1}},computed:{categoryName:function(){return $("[name=categoryName]").val()?$("[name=categoryName]").val():""===$("[name=categoryId]").val()?Translator.trans("question.bank.all_question"):Translator.trans("question.bank.no_category")}},mounted:function(){var t=this;return g()(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getData();case 2:if(!t.questionData.length){e.next=5;break}return e.next=5,t.changeOption();case 5:store.get("QUESTION_DUPLICATE_INTRO")||(t.isShowGuide=!0,t.$nextTick((function(){t.initGuide()}))),$("[name=page_type]").val()&&store.get("DUPLICATE_MATERIAL")&&t.matchActive(store.get("DUPLICATE_MATERIAL"));case 7:case"end":return e.stop()}}),e)})))()},methods:{initGuide:function(){var t=this;t.isShowGuide=!0,t.introOption.steps=[{element:".duplicate-question-head",intro:Translator.trans("question.bank.check.guide.one"),position:"bottom"},{element:".question-num",intro:Translator.trans("question.bank.check.guide.two"),position:"bottom"}],introJs().setOptions(t.introOption).start().onchange((function(){t.isShowGuide=!1,document.querySelectorAll(".introjs-skipbutton")[0].style.display="inline-block",document.querySelectorAll(".introjs-prevbutton")[0].style.display="none"})).oncomplete((function(){store.set("QUESTION_DUPLICATE_INTRO",!0)}))},changeQuestion:function(t,e){this["".concat(t,"Index")]=e},showChangeOptionErr:function(){var t,e=this;this.$error({title:Translator.trans("question.bank.error.tip.title"),content:Translator.trans("question.bank.error.tip.content"),okText:Translator.trans("site.btn.confirm"),onOk:(t=g()(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:return t.next=4,e.changeOption();case 4:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})})},changeOption:function(){var t=arguments,e=this;return g()(E().mark((function n(){var r,a,i;return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]?t[0]:0,e.activeKey=r,n.prev=2,e.questionData.length){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,k.E.getRepeatQuestionInfo($("[name=questionBankId]").val(),{material:null===(a=e.questionData[r])||void 0===a?void 0:a.material,categoryId:$("[name=categoryId]").val()});case 7:if((i=n.sent).length){n.next=11;break}return e.showChangeOptionErr(),n.abrupt("return");case 11:e.questionContentList=i,e.questionData[r]&&(e.questionData[r].frequency=i.length.toString()),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(2),e.$message.error(n.t0.message);case 18:case"end":return n.stop()}}),n,null,[[2,15]])})))()},goBack:function(){window.location.href="/question_bank/".concat($("[name=questionBankId]").val(),"/questions")},getData:function(){var t=this;return g()(E().mark((function e(){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.E.getRepeatQuestion($("[name=questionBankId]").val(),$("[name=categoryId]").val());case 3:n=e.sent,t.questionData=n,n.length||(t.questionContentList=[]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.$message.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},matchActive:function(t){for(var e=0;e<this.questionData.length;e++)if(this.questionData[e].material==t){this.activeKey=e;break}},changeQuestionContent:function(t,e){this.questionContentList.splice(this[t],1,e)}}},D=O,A=Object(_.a)(D,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"duplicate-check"}},[n("div",{staticClass:"duplicate-head flex items-center"},[n("span",{staticClass:"duplicate-back flex items-center",on:{click:t.goBack}},[n("span",{staticClass:"es-icon es-icon-fanhui mr4"}),t._v("\n      "+t._s(t._f("trans")("importer.import_back_btn"))+"\n    ")]),t._v(" "),n("span",{staticClass:"duplicate-divider"}),t._v(" "),n("span",{staticClass:"duplicate-title flex items-center"},[n("span",{staticClass:"bankName flex items-center"},[t._v("【"),n("span",{staticClass:"msg"},[t._v(t._s(t.categoryName))]),t._v("】")]),t._v(t._s(t._f("trans")("question.bank.check")))])]),t._v(" "),n("div",{staticClass:"duplicate-body"},[n("div",{staticClass:"duplicate-question"},[n("div",{staticClass:"duplicate-question-head"},[t._v("\n        "+t._s(t._f("trans")("question.bank.common.repeated"))+":"),n("label",{staticClass:"duplicate-question-count"},[t._v(t._s(t.questionData.length))]),t._v(t._s(t._f("trans")("subject.question_unit"))+"\n\n        "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowGuide,expression:"isShowGuide"}],staticClass:"duplicate-question-item duplicate-question-active"},[t.questionData.length?n("div",{staticClass:"duplicate-question-title"},[t._v("\n            "+t._s(t._f("stripTags")(t.questionData[0].displayMaterial))+"\n          ")]):t._e(),t._v(" "),t.questionData.length?n("span",{staticClass:"duplicate-question-check-count"},[t._v(t._s(t.questionData[0].frequency)+t._s(t._f("trans")("question.bank.unit")))]):t._e()])]),t._v(" "),t._l(t.questionData,(function(e,r){return n("duplicate-question-item",{key:r,attrs:{active:r==t.activeKey,id:r,question:e},on:{changeOption:t.changeOption}})}))],2),t._v(" "),n("div",{staticClass:"duplicate-content"},[n("div",{staticClass:"duplicate-content-title"},[t._v(t._s(t._f("trans")("question.bank.topic.comparison")))]),t._v(" "),t.questionContentList.length>1?n("div",{staticClass:"mt16 flex flex-nowrap",staticStyle:{flex:"1"}},[t.questionContentList[t.oneIndex]?n("duplicate-question-content",{staticClass:"mr16",attrs:{type:"one",activeIndex:t.oneIndex,activeKey:t.activeKey,nextIndex:t.twoIndex,questionContent:t.questionContentList[t.oneIndex],count:t.questionContentList.length,title:t.questionData[t.activeKey].material},on:{changeOption:t.changeOption,getData:t.getData,changeQuestion:t.changeQuestion,changeQuestionContent:t.changeQuestionContent}}):t._e(),t._v(" "),t.questionContentList[t.twoIndex]?n("duplicate-question-content",{attrs:{type:"two",activeIndex:t.twoIndex,activeKey:t.activeKey,nextIndex:t.oneIndex,questionContent:t.questionContentList[t.twoIndex],count:t.questionContentList.length,title:t.questionData[t.activeKey].material},on:{changeOption:t.changeOption,getData:t.getData,changeQuestion:t.changeQuestion,changeQuestionContent:t.changeQuestionContent}}):t._e()],1):n("div",{staticClass:"no-data text-center"},[n("img",{staticClass:"no-data-img",attrs:{src:"/static-dist/app/img/question-bank/empty.png"}}),t._v(" "),n("div",{staticClass:"no-data-content"},[t._v(t._s(t._f("trans")("question.bank.check.result.noData.title")))]),t._v(" "),n("button",{staticClass:"return-btn",on:{click:t.goBack}},[t._v(t._s(t._f("trans")("question.bank.check.result.noData.btn")))])])])])])}),[],!1,null,null,null),S=A.exports,j=n(278),N=n(121),Q=n.n(N);Vue.prototype.$qs=Q.a,Vue.filter("trans",(function(t,e){return t?Translator.trans(t,e):""})),Vue.filter("stripTags",(function(t){return t.replace(/<[^>]*>/g,"")})),Vue.component(j.a.name,j.a),new Vue({el:"#app",render:function(t){return t(S)}})},278:function(t,e,n){"use strict";var r=n(16),a=n.n(r),i=n(15),o=n.n(i),s=n(50),c=n.n(s),u=n(149),l=n(150),h=n(151),d=n(148),f=n(152),p=n(245),v=n(246),m={publicPath:"".concat(Object({NODE_ENV:"production"}).BASE_URL,"/es-ckeditor/ckeditor.js"),fileSingleSizeLimit:10,filebrowserImageUploadUrl:"",filebrowserImageDownloadUrl:"",language:"zh-cn",jqueryPath:"https://cdn.bootcss.com/jquery/3.4.1/jquery.js"},y={name:"item-preview",data:function(){return{mode:"preview"}},components:{judgeType:u.a,singleChoice:l.a,choice:h.a,essay:d.a,fill:f.a,materialTitle:p.a,materialAnalysis:v.a},computed:{CKEditorData:function(){return c()(this.showCKEditorData).length?o()(m,this.showCKEditorData):m}},provide:function(){return{showCKEditorData:this.CKEditorData,cdnHost:this.cdnHost,showAttachment:this.showAttachment,deleteAttachmentCallback:this.deleteAttachmentCallback,previewAttachmentCallback:this.previewAttachmentCallback,downloadAttachmentCallback:this.downloadAttachmentCallback,isDownload:this.isDownload}},props:{needScore:{type:Number,default:function(){return 1}},item:{type:Object,default:function(){return{}}},showCKEditorData:{type:Object,default:function(){return{}}},cdnHost:{type:String,default:"service-cdn.qiqiuyun.net"},showAttachment:{type:String,default:"0"},deleteAttachmentCallback:{type:Function,default:function(){return new a.a((function(t){t()}))}},previewAttachmentCallback:{type:Function,default:function(){return new a.a((function(t){t()}))}},downloadAttachmentCallback:{type:Function,default:function(){return new a.a((function(t){t()}))}},isDownload:{type:Boolean,default:!1}},created:function(){this.$on("previewFile",this.previewAttachment),this.$on("downloadFile",this.downloadAttachment)},methods:{previewAttachment:function(t){this.$emit("previewAttachment",t)},downloadAttachment:function(t){this.$emit("downloadAttachment",t)}}},g=n(22),w=Object(g.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ibs-pb24 ibs-white-bg ibs-preview-wrap"},[n("material-title",{directives:[{name:"show",rawName:"v-show",value:"material"===t.item.type,expression:"item.type === 'material'"}],attrs:{material:t.item.material,attachments:t.item.attachments}}),t._v(" "),n("div",{staticClass:"ibs-preview-list"},t._l(t.item.questions,(function(e,r){return n("div",{key:r,staticClass:"ibs-pl16 ibs-pr16 ibs-preview-item"},["true_false"===e.answer_mode?n("judge-type",{attrs:{needScore:t.needScore,question:e,item:t.item,mode:t.mode}}):t._e(),t._v(" "),"single_choice"===e.answer_mode?n("single-choice",{attrs:{needScore:t.needScore,question:e,item:t.item,mode:t.mode}}):t._e(),t._v(" "),"choice"===e.answer_mode||"uncertain_choice"===e.answer_mode?n("choice",{attrs:{needScore:t.needScore,question:e,item:t.item,mode:t.mode}}):t._e(),t._v(" "),"rich_text"===e.answer_mode?n("essay",{attrs:{needScore:t.needScore,question:e,item:t.item,mode:t.mode}}):t._e(),t._v(" "),"text"===e.answer_mode?n("fill",{attrs:{needScore:t.needScore,question:e,item:t.item,mode:t.mode,previewType:"item"}}):t._e()],1)})),0),t._v(" "),n("material-analysis",{directives:[{name:"show",rawName:"v-show",value:"material"===t.item.type&&t.item.analysis,expression:"item.type === 'material' && item.analysis"}],attrs:{needScore:t.needScore,analysis:t.item.analysis,attachments:t.item.attachments}})],1)}),[],!1,null,null,null);e.a=w.exports}});