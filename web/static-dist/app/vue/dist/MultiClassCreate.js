/*! For license information please see MultiClassCreate.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[450],{1637:function(t,e,a){"use strict";a.r(e);var i=a(16),r=a.n(i),n=a(26),s=a.n(n),o=a(19),l=a.n(o),c=a(37),u=a.n(c),d=a(13),h=a.n(d),f=a(24),p=a.n(f),m=a(20),v=a.n(m),g=a(23),y=a.n(g),S=a(74),b=a.n(S),_=a(88),w=a(1653),x=a(1810);function C(){C=function(){return e};var t,e={},a=Object.prototype,i=a.hasOwnProperty,n=v.a||function(t,e,a){t[e]=a.value},o="function"==typeof p.a?p.a:{},c=o.iterator||"@@iterator",d=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag";function m(t,e,a){return v()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{m({},"")}catch(t){m=function(t,e,a){return t[e]=a}}function g(t,e,a,i){var r=e&&e.prototype instanceof x?e:x,s=h()(r.prototype),o=new R(i||[]);return n(s,"_invoke",{value:F(t,a,o)}),s}function y(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}e.wrap=g;var S="suspendedStart",b="executing",_="completed",w={};function x(){}function N(){}function V(){}var I={};m(I,c,(function(){return this}));var E=u.a,L=E&&E(E(j([])));L&&L!==a&&i.call(L,c)&&(I=L);var k=V.prototype=x.prototype=h()(I);function T(t){["next","throw","return"].forEach((function(e){m(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function a(r,n,s,o){var c=y(t[r],t,n);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==l()(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,s,o)}),(function(t){a("throw",t,s,o)})):e.resolve(d).then((function(t){u.value=t,s(u)}),(function(t){return a("throw",t,s,o)}))}o(c.arg)}var r;n(this,"_invoke",{value:function(t,i){function n(){return new e((function(e,r){a(t,i,e,r)}))}return r=r?r.then(n,n):n()}})}function F(e,a,i){var r=S;return function(n,s){if(r===b)throw Error("Generator is already running");if(r===_){if("throw"===n)throw s;return{value:t,done:!0}}for(i.method=n,i.arg=s;;){var o=i.delegate;if(o){var l=z(o,i);if(l){if(l===w)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===S)throw r=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=b;var c=y(e,a,i);if("normal"===c.type){if(r=i.done?_:"suspendedYield",c.arg===w)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=_,i.method="throw",i.arg=c.arg)}}}function z(e,a){var i=a.method,r=e.iterator[i];if(r===t)return a.delegate=null,"throw"===i&&e.iterator.return&&(a.method="return",a.arg=t,z(e,a),"throw"===a.method)||"return"!==i&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+i+"' method")),w;var n=y(r,e.iterator,a.arg);if("throw"===n.type)return a.method="throw",a.arg=n.arg,a.delegate=null,w;var s=n.arg;return s?s.done?(a[e.resultName]=s.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,w):s:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,w)}function q(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(q,this),this.reset(!0)}function j(e){if(e||""===e){var a=e[c];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function a(){for(;++r<e.length;)if(i.call(e,r))return a.value=e[r],a.done=!1,a;return a.value=t,a.done=!0,a};return n.next=n}}throw new TypeError(l()(e)+" is not iterable")}return N.prototype=V,n(k,"constructor",{value:V,configurable:!0}),n(V,"constructor",{value:N,configurable:!0}),N.displayName=m(V,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===N||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return s.a?s()(t,V):(t.__proto__=V,m(t,f,"GeneratorFunction")),t.prototype=h()(k),t},e.awrap=function(t){return{__await:t}},T(A.prototype),m(A.prototype,d,(function(){return this})),e.AsyncIterator=A,e.async=function(t,a,i,n,s){void 0===s&&(s=r.a);var o=new A(g(t,a,i,n),s);return e.isGeneratorFunction(a)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},T(k),m(k,f,"Generator"),m(k,c,(function(){return this})),m(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),a=[];for(var i in e)a.push(i);return a.reverse(),function t(){for(;a.length;){var i=a.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=j,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var a in this)"t"===a.charAt(0)&&i.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function r(i,r){return o.type="throw",o.arg=e,a.next=i,r&&(a.method="next",a.arg=t),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var n=r;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=t,s.arg=e,n?(this.method="next",this.next=n.finallyLoc,w):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),w},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),M(a),w}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var i=a.completion;if("throw"===i.type){var r=i.arg;M(a)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,a,i){return this.delegate={iterator:j(e),resultName:a,nextLoc:i},"next"===this.method&&(this.arg=t),w}},e}var N={name:"MultiClassCreate",components:{AsideLayout:w.a,Schedule:x.a},data:function(){return{ajaxLoading:!1,form:this.$form.createForm(this,{name:"multi_class_create"}),selectedCourseId:0,selectedCourseSetId:0,multiClassId:0,mode:"create",notificationShow:"",maxStudentNum:1e5,course:{list:[],title:"",flag:!0,initialValue:void 0,paging:{pageSize:10,current:0}},product:{list:[],flag:!0,initialValue:void 0,paging:{pageSize:10,current:0}},teacher:{list:[],title:"",flag:!0,initialValue:void 0,paging:{pageSize:10,current:0}},assistant:{list:[],title:"",flag:!0,initialValue:[],paging:{pageSize:10,current:0}}}},computed:{breadcrumbName:function(){return{create:"新建班课",editor:"编辑班课"}[this.mode]}},created:function(){this.fetchNotificationSetting(),this.isEdit(),this.getMultiClassSetting()},methods:{initFetch:function(){this.fetchCourse(),this.fetchAssistants(),this.fetchProducts(),this.fetchTeacher()},isEdit:function(){var t=this.$route.query.id;if(t)return this.multiClassId=t,this.mode="editor",void this.fetchEditorMultiClass();this.afterCreateCourse()},afterCreateCourse:function(){var t=this.$route.query.course;if(t)return t=JSON.parse(t),this.selectedCourseId=t.id,this.selectedCourseSetId=t.courseSetId,this.maxStudentNum=t.maxStudentNum>0?t.maxStudentNum:1e5,this.course.list.push(t),this.$set(this.course,"initialValue",t.id),this.fetchCourse(),this.fetchProducts(),void this.fetchCourseInfo(t.id);this.initFetch()},duplicateRemoval:function(t,e){b.a.forEach(t,(function(a,i){if(a.id==e)return t.splice(i,1),!1}))},disabledTeacher:function(t){var e=t||this.form.getFieldValue("assistantIds")||this.assistant.initialValue;b.a.forEach(this.teacher.list,(function(t){b.a.includes(e,t.id)||(t.disabled=!1),b.a.forEach(e,(function(e){t.id==e&&(t.disabled=!0)}))}))},disabledAssistant:function(t){var e=t||this.form.getFieldValue("teacherId")||this.teacher.initialValue;b.a.forEach(this.assistant.list,(function(t){t.id==e?t.disabled=!0:t.disabled=!1}))},fetchNotificationSetting:function(){var t=this;_.F.get("wechat_message_subscribe").then((function(e){t.notificationShow=e.enable}))},fetchCourseInfo:function(t){var e=this;this.form.resetFields(["teacherId","assistantIds"]),_.g.getSingleCourse(t).then((function(t){var a=t.teachers,i=t.assistants,r=t.maxStudentNum,n=a[0],s=i;e.teacher={list:[n],title:"",flag:!0,initialValue:n.id,paging:{pageSize:10,current:0}};var o=[];b.a.forEach(s,(function(t){o.push(t.id)})),e.assistant={list:s,title:"",flag:!0,initialValue:o,paging:{pageSize:10,current:0}},e.form.setFieldsValue({teacherId:n.id,assistantIds:o,maxStudentNum:r}),e.fetchAssistants(),e.fetchTeacher()}))},fetchEditorMultiClass:function(){var t=this;_.u.get(this.multiClassId).then((function(e){console.log(e);var a=e.title,i=e.course,r=e.courseId,n=e.product,s=e.productId,o=e.teachers,l=e.teacherIds,c=e.assistants,u=e.assistantIds,d=e.maxStudentNum,h=e.service_num,f=e.isReplayShow,p=e.liveRemindTime;t.form.setFieldsValue({title:a,maxStudentNum:d,service_num:h,isReplayShow:f,liveRemindTime:Number(p)}),t.selectedCourseId=r,t.selectedCourseSetId=i.courseSetId,t.maxStudentNum=i.maxStudentNum>0?i.maxStudentNum:1e5,t.course.list=[i],t.course.initialValue=r,t.product.list=[n],t.product.initialValue=s,t.teacher.list=o,t.teacher.initialValue=l[0],t.assistant.list=c,t.assistant.initialValue=u,t.initFetch()}))},fetchCourse:function(){var t=this,e=this.course,a=e.title,i=e.paging,r=i.pageSize,n={isDefault:1,limit:r,offset:r*i.current,type:"live",excludeMultiClassCourses:!0,sort:"-createdTime"};a&&(n.courseSetTitleLike=a),_.g.searchCourses(n).then((function(e){t.course.paging.current++,t.course.initialValue&&t.duplicateRemoval(e.data,t.course.initialValue),t.course.list=b.a.concat(t.course.list,e.data),b.a.size(t.course.list)>=e.paging.total&&(t.course.flag=!1)}))},handleSearchCourse:b.a.debounce((function(t){this.course={list:[],title:t,flag:!0,paging:{pageSize:10,current:0}},this.fetchCourse()}),300),courseScroll:b.a.debounce((function(t){var e=t.target;e.scrollHeight-e.offsetHeight-20<e.scrollTop&&this.course.flag&&this.fetchCourse()}),300),fetchProducts:function(){var t=this,e=this.product,a=e.title,i=e.paging,r=i.pageSize,n={limit:r,offset:r*i.current};a&&(n.keywords=a),_.x.search(n).then((function(e){t.product.paging.current++,t.product.initialValue&&t.duplicateRemoval(e.data,t.product.initialValue),t.product.list=b.a.concat(t.product.list,e.data),b.a.size(t.product.list)>=e.paging.total&&(t.product.flag=!1)}))},productScroll:b.a.debounce((function(t){var e=t.target;e.scrollHeight-e.offsetHeight-20<e.scrollTop&&this.product.flag&&this.fetchProducts()}),300),handleSearchProduct:b.a.debounce((function(t){this.product={list:[],title:t,flag:!0,paging:{pageSize:10,current:0}},this.fetchProducts()}),300),fetchTeacher:function(){var t=this,e=this.teacher,a=e.title,i=e.paging,r=i.pageSize,n={limit:r,offset:r*i.current};a&&(n.nickname=a),_.G.search(n).then((function(e){t.teacher.paging.current++,t.teacher.initialValue&&t.duplicateRemoval(e.data,t.teacher.initialValue),t.teacher.list=b.a.concat(t.teacher.list,e.data),b.a.size(t.teacher.list)>=e.paging.total&&(t.teacher.flag=!1),t.disabledTeacher()}))},handleSearchTeacher:b.a.debounce((function(t){this.teacher={list:[],title:t,flag:!0,paging:{pageSize:10,current:0}},this.fetchTeacher()}),300),teacherScroll:b.a.debounce((function(t){var e=t.target;e.scrollHeight-e.offsetHeight-20<e.scrollTop&&this.teacher.flag&&this.fetchTeacher()}),300),fetchAssistants:function(){var t=this,e=this.assistant,a=e.title,i=e.paging,r=i.pageSize,n={limit:r,offset:r*i.current};a&&(n.nickname=a),_.b.search(n).then((function(e){t.assistant.paging.current++,b.a.forEach(t.assistant.initialValue,(function(a){t.duplicateRemoval(e.data,a)})),t.assistant.list=b.a.concat(t.assistant.list,e.data),b.a.size(t.assistant.list)>=e.paging.total&&(t.assistant.flag=!1),t.disabledAssistant()}))},handleSearchAssistant:b.a.debounce((function(t){this.assistant={list:[],title:t,flag:!0,paging:{pageSize:10,current:0}},this.fetchAssistants()}),300),assistantScroll:b.a.debounce((function(t){var e=t.target;e.scrollHeight-e.offsetHeight-20<e.scrollTop&&this.assistant.flag&&this.fetchAssistants()}),300),handleChangeCourse:function(t){var e=this;this.selectedCourseId=t,b.a.forEach(this.course.list,(function(a){if(a.id==t)return e.selectedCourseSetId=a.courseSet.id,e.maxStudentNum=a.maxStudentNum>0?a.maxStudentNum:1e5,!1})),this.fetchCourseInfo(t)},handleChange:function(t,e){"teacher"!==e?"assistant"===e&&this.disabledTeacher(t):this.disabledAssistant(t)},validatorTitle:function(t,e,a){var i=this;return y()(C().mark((function t(){var r;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.M.search({type:"multiClass",title:e,exceptId:i.multiClassId});case 2:r=t.sent,r.result||a("班课名称不能与已创建的相同"),e&&e.replace(/[\u0391-\uFFE5]/g,"aa").length/2>40&&a("班课名称不能超过40个字符"),a();case 7:case"end":return t.stop()}}),t)})))()},validatorAssistant:function(t,e,a){e.length>20?a("最多选择20个助教"):a()},validateStudentNum:function(t,e,a){e&&!1===/^\+?[1-9][0-9]*$/.test(e)&&a("请输入正整数"),e>Number(this.maxStudentNum)&&a("人数范围在0-".concat(this.maxStudentNum,"人")),a()},validateAssistantNum:function(t,e,a){e&&!1===/^\+?[0-9][0-9]*$/.test(e)&&a("请输入整数"),a()},handleSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t,a){t||(a.type="normal","create"!==e.mode?"editor"===e.mode&&e.editorMultiClass(a):e.createMultiClass(a))}))},createMultiClass:function(t){var e=this;this.ajaxLoading=!0,_.u.add(t).then((function(){e.clickCancelCreate()})).finally((function(){e.ajaxLoading=!1}))},editorMultiClass:function(t){var e=this;this.ajaxLoading=!0,_.u.editorMultiClass(this.multiClassId,t).then((function(){e.clickCancelCreate()})).finally((function(){e.ajaxLoading=!1}))},clickCancelCreate:function(){var t={},e=this.$route.params.paging;e&&(t.paging=e),this.$router.push({name:"MultiClass",params:t})},getMultiClassSetting:function(){var t=this;return y()(C().mark((function e(){var a,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("editor"!=t.mode){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_.y.search();case 4:a=e.sent,i=a.assistant_service_limit,t.form.setFieldsValue({service_num:i});case 7:case"end":return e.stop()}}),e)})))()}}},V=(a(1957),a(22)),I=Object(V.a)(N,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside-layout",{staticStyle:{"padding-bottom":"88px"},attrs:{breadcrumbs:[{name:t.breadcrumbName}]}},[a("a-form",{staticStyle:{"max-width":"1000px"},attrs:{form:t.form,"label-col":{span:3},"wrapper-col":{span:21}}},[a("a-form-item",{attrs:{label:"班课名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{trigger:"blur",rules:[{required:!0,message:"请填写班课名称"},{validator:t.validatorTitle}]}],expression:"['title', {\n          trigger: 'blur',\n          rules: [\n            { required: true, message: '请填写班课名称' },\n            { validator: validatorTitle }\n          ]\n        }]"}],attrs:{placeholder:"请输入班课名称"}})],1),t._v(" "),a("a-form-item",{attrs:{label:"选择课程"}},[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:"editor"===t.mode?24:20}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["courseId",{initialValue:t.course.initialValue,rules:[{required:!0,message:"请选择课程"}]}],expression:"['courseId', {\n              initialValue: course.initialValue,\n              rules: [\n                { required: true, message: '请选择课程' }\n              ]\n            }]"}],attrs:{"show-search":"","filter-option":!1,placeholder:"请选择课程",disabled:"editor"===t.mode},on:{popupScroll:t.courseScroll,search:t.handleSearchCourse,change:t.handleChangeCourse}},t._l(t.course.list,(function(e){return a("a-select-option",{key:e.id},[t._v("\n              "+t._s(e.courseSetTitle)+"\n            ")])})),1)],1),t._v(" "),"editor"!==t.mode?a("a-col",{attrs:{span:4}},[a("a-button",{attrs:{type:"primary",block:!0},on:{click:function(e){return t.$router.push({name:"MultiClassCreateCourse"})}}},[a("a-icon",{attrs:{type:"plus"}}),t._v("\n            创建新课程\n          ")],1)],1):t._e()],1)],1),t._v(" "),a("a-form-item",{attrs:{label:"所属产品"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["productId",{initialValue:t.product.initialValue,rules:[{required:!0,message:"请选择归属产品"}]}],expression:"['productId', {\n          initialValue: product.initialValue,\n          rules: [\n            { required: true, message: '请选择归属产品' }\n          ]\n        }]"}],attrs:{"show-search":"","filter-option":!1,placeholder:"请选择归属产品"},on:{popupScroll:t.productScroll,search:t.handleSearchProduct}},t._l(t.product.list,(function(e){return a("a-select-option",{key:e.id},[t._v("\n          "+t._s(e.title)+"\n        ")])})),1)],1),t._v(" "),a("a-form-item",{attrs:{label:"授课老师"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["teacherId",{initialValue:t.teacher.initialValue,rules:[{required:!0,message:"请选择授课老师"}]}],expression:"['teacherId', {\n          initialValue: teacher.initialValue,\n          rules: [\n            { required: true, message: '请选择授课老师' }\n          ]\n        }]"}],attrs:{"show-search":"","filter-option":!1,placeholder:"请选择授课教师"},on:{popupScroll:t.teacherScroll,change:function(e){return t.handleChange(e,"teacher")},search:t.handleSearchTeacher}},t._l(t.teacher.list,(function(e){return a("a-select-option",{key:e.id,attrs:{disabled:e.disabled}},[t._v("\n          "+t._s(e.nickname)+"\n        ")])})),1)],1),t._v(" "),a("a-form-item",{attrs:{label:"助教"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["assistantIds",{initialValue:t.assistant.initialValue,rules:[{required:!0,message:"至少选择一位助教"},{validator:t.validatorAssistant}]}],expression:"['assistantIds', {\n          initialValue: assistant.initialValue,\n          rules: [\n            { required: true, message: '至少选择一位助教' },\n            { validator: validatorAssistant }\n          ]\n        }]"}],attrs:{"show-search":"","filter-option":!1,mode:"multiple",placeholder:"请选择助教","option-label-prop":"label"},on:{popupScroll:t.assistantScroll,search:t.handleSearchAssistant,blur:function(){return t.handleSearchAssistant("")},change:function(e){return t.handleChange(e,"assistant")}}},t._l(t.assistant.list,(function(e){return a("a-select-option",{key:e.id,attrs:{label:e.nickname,disabled:e.disabled}},[t._v("\n          "+t._s(e.nickname)+" "),0===Number(e.isScrmBind)?a("span",{staticClass:"assistant-tip"},[t._v("尚未绑定销客助手，可能会影响学习服务")]):t._e()])})),1),t._v(" "),a("div",{staticClass:"pull-left color-gray"},[a("a-icon",{staticStyle:{color:"#bebebe"},attrs:{type:"exclamation-circle"}}),t._v("\n        用户中心设置助教\n        "),a("a",{attrs:{href:"/admin/v2/user",target:"_blank"}},[t._v("去设置")])],1),t._v(" "),t.multiClassId?a("div",{staticClass:"pull-right color-warning"},[a("a-icon",{staticStyle:{color:"#ff8a0c"},attrs:{type:"exclamation-circle"}}),t._v("\n        删除助教，将导致该助教下已分配的学员平均分配给其他助教！\n      ")],1):t._e()],1),t._v(" "),a("a-form-item",{staticClass:"assistant-max-number",attrs:{label:"助教服务上限人数","label-col":{span:4},"wrapper-col":{span:2}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["service_num",{rules:[{required:!0,message:"请输入助教服务上限人数"},{validator:t.validateAssistantNum}]}],expression:"['service_num', {\n          rules: [\n            { required: true, message: '请输入助教服务上限人数' },\n            { validator: validateAssistantNum }\n            ]\n          }]"}]},[a("span",{attrs:{slot:"suffix"},slot:"suffix"},[t._v("人")])]),t._v(" "),a("span",{staticClass:"setup-tip"},[t._v("可去【参数设置】中设置默认值")])],1),t._v(" "),a("a-form-item",{attrs:{label:"排课"}},[a("Schedule",{attrs:{"course-id":t.selectedCourseId,"course-set-id":t.selectedCourseSetId}})],1),t._v(" "),a("a-form-item",{attrs:{label:"限购人数"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["maxStudentNum",{rules:[{required:!0,message:"请输入限购人数"},{validator:t.validateStudentNum}]}],expression:"['maxStudentNum', {\n        rules: [\n          { required: true, message: '请输入限购人数' },\n          { validator: validateStudentNum }\n          ]\n        }]"}],attrs:{disabled:!t.form.getFieldValue("courseId")}},[a("span",{attrs:{slot:"suffix"},slot:"suffix"},[t._v("人")])])],1),t._v(" "),a("a-form-item",{attrs:{label:"直播回放观看"}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isReplayShow",{initialValue:"1"}],expression:"['isReplayShow', { initialValue: '1'}]"}],attrs:{options:[{label:"开启",value:"1"},{label:"关闭",value:"0"}]}})],1),t._v(" "),""!==t.notificationShow?a("a-form-item",{attrs:{label:"通知设置"}},[a("a-form-item",{staticStyle:{position:"relative",left:"-7.5%","margin-top":"50px"}},[a("div",{staticClass:"pull-left mr12"},[t._v("开课提醒")]),t._v(" "),t.notificationShow?a("div",[a("div",{staticClass:"pull-left"},[t._v("开课")]),t._v(" "),a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["liveRemindTime",{initialValue:5}],expression:"['liveRemindTime', { initialValue: 5 }]"}],staticClass:"pull-left ml8",staticStyle:{width:"200px"}},t._l([0,5,15,30,60,1440],(function(e){return a("a-select-option",{key:e,attrs:{value:e}},[0===e?[t._v("不通知")]:1440===e?[t._v("1天前")]:[t._v(t._s(e)+"分钟")]],2)})),1),t._v(" "),a("div",{staticClass:"pull-left ml8"},[t._v("自动发送提醒")])],1):t._e(),t._v(" "),t.notificationShow?t._e():a("div",[a("a-icon",{staticStyle:{color:"#bebebe"},attrs:{type:"info-circle"}}),t._v("\n          尚未在系统后台配置微信通知，开启配置，才可使用该功能\n          "),a("a",{attrs:{href:"/admin/v2/wechat/notification/manage",target:"_blank"}},[t._v("去设置")])],1)])],1):t._e()],1),t._v(" "),a("div",{staticClass:"create-multi-class-btn-group"},[a("a-space",{attrs:{size:"large"}},[a("a-button",{attrs:{type:"primary",loading:t.ajaxLoading},on:{click:t.handleSubmit}},[t._v("\n        "+t._s("editor"===t.mode?"确定":"立即创建")+"\n      ")]),t._v(" "),a("a-button",{on:{click:t.clickCancelCreate}},[t._v("\n        取消\n      ")])],1)],1)],1)}),[],!1,null,null,null);e.default=I.exports},1777:function(t,e,a){},1957:function(t,e,a){"use strict";var i=a(1777);a.n(i).a}}]);