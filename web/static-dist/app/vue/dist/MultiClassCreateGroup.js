/*! For license information please see MultiClassCreateGroup.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[451],{1638:function(t,e,a){"use strict";a.r(e);var r=a(16),i=a.n(r),n=a(26),s=a.n(n),o=a(19),l=a.n(o),u=a(37),c=a.n(u),d=a(13),h=a.n(d),f=a(24),p=a.n(f),m=a(20),v=a.n(m),g=a(23),y=a.n(g),_=a(74),S=a.n(_),b=a(88),w=a(1653),x=a(1810);function C(){C=function(){return e};var t,e={},a=Object.prototype,r=a.hasOwnProperty,n=v.a||function(t,e,a){t[e]=a.value},o="function"==typeof p.a?p.a:{},u=o.iterator||"@@iterator",d=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag";function m(t,e,a){return v()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{m({},"")}catch(t){m=function(t,e,a){return t[e]=a}}function g(t,e,a,r){var i=e&&e.prototype instanceof x?e:x,s=h()(i.prototype),o=new R(r||[]);return n(s,"_invoke",{value:z(t,a,o)}),s}function y(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}e.wrap=g;var _="suspendedStart",S="executing",b="completed",w={};function x(){}function N(){}function V(){}var I={};m(I,u,(function(){return this}));var E=c.a,L=E&&E(E(j([])));L&&L!==a&&r.call(L,u)&&(I=L);var k=V.prototype=x.prototype=h()(I);function T(t){["next","throw","return"].forEach((function(e){m(t,e,(function(t){return this._invoke(e,t)}))}))}function F(t,e){function a(i,n,s,o){var u=y(t[i],t,n);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==l()(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,s,o)}),(function(t){a("throw",t,s,o)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return a("throw",t,s,o)}))}o(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,i){a(t,r,e,i)}))}return i=i?i.then(n,n):n()}})}function z(e,a,r){var i=_;return function(n,s){if(i===S)throw Error("Generator is already running");if(i===b){if("throw"===n)throw s;return{value:t,done:!0}}for(r.method=n,r.arg=s;;){var o=r.delegate;if(o){var l=A(o,r);if(l){if(l===w)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===_)throw i=b,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=S;var u=y(e,a,r);if("normal"===u.type){if(i=r.done?b:"suspendedYield",u.arg===w)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=b,r.method="throw",r.arg=u.arg)}}}function A(e,a){var r=a.method,i=e.iterator[r];if(i===t)return a.delegate=null,"throw"===r&&e.iterator.return&&(a.method="return",a.arg=t,A(e,a),"throw"===a.method)||"return"!==r&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+r+"' method")),w;var n=y(i,e.iterator,a.arg);if("throw"===n.type)return a.method="throw",a.arg=n.arg,a.delegate=null,w;var s=n.arg;return s?s.done?(a[e.resultName]=s.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,w):s:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,w)}function q(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(q,this),this.reset(!0)}function j(e){if(e||""===e){var a=e[u];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function a(){for(;++i<e.length;)if(r.call(e,i))return a.value=e[i],a.done=!1,a;return a.value=t,a.done=!0,a};return n.next=n}}throw new TypeError(l()(e)+" is not iterable")}return N.prototype=V,n(k,"constructor",{value:V,configurable:!0}),n(V,"constructor",{value:N,configurable:!0}),N.displayName=m(V,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===N||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return s.a?s()(t,V):(t.__proto__=V,m(t,f,"GeneratorFunction")),t.prototype=h()(k),t},e.awrap=function(t){return{__await:t}},T(F.prototype),m(F.prototype,d,(function(){return this})),e.AsyncIterator=F,e.async=function(t,a,r,n,s){void 0===s&&(s=i.a);var o=new F(g(t,a,r,n),s);return e.isGeneratorFunction(a)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},T(k),m(k,f,"Generator"),m(k,u,(function(){return this})),m(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),a=[];for(var r in e)a.push(r);return a.reverse(),function t(){for(;a.length;){var r=a.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var a in this)"t"===a.charAt(0)&&r.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function i(r,i){return o.type="throw",o.arg=e,a.next=r,i&&(a.method="next",a.arg=t),!!i}for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=t,s.arg=e,n?(this.method="next",this.next=n.finallyLoc,w):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),w},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),M(a),w}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var r=a.completion;if("throw"===r.type){var i=r.arg;M(a)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,a,r){return this.delegate={iterator:j(e),resultName:a,nextLoc:r},"next"===this.method&&(this.arg=t),w}},e}var N={name:"MultiClassCreate",components:{AsideLayout:w.a,Schedule:x.a},data:function(){return{ajaxLoading:!1,form:this.$form.createForm(this,{name:"multi_class_create"}),selectedCourseId:0,selectedCourseSetId:0,multiClassId:0,mode:"create",notificationShow:"",maxStudentNum:1e5,course:{list:[],title:"",flag:!0,initialValue:void 0,paging:{pageSize:10,current:0}},product:{list:[],flag:!0,initialValue:void 0,paging:{pageSize:10,current:0}},teacher:{list:[],title:"",flag:!0,initialValue:void 0,paging:{pageSize:10,current:0}},assistant:{list:[],title:"",flag:!0,initialValue:[],paging:{pageSize:10,current:0}}}},computed:{breadcrumbName:function(){return{create:"新建分组大班课",editor:"编辑分组大班课"}[this.mode]}},created:function(){this.fetchNotificationSetting(),this.isEdit(),this.getMultiClassSetting()},methods:{initFetch:function(){this.fetchCourse(),this.fetchAssistants(),this.fetchProducts(),this.fetchTeacher()},isEdit:function(){var t=this.$route.query.id;if(t)return this.multiClassId=t,this.mode="editor",void this.fetchEditorMultiClass();this.afterCreateCourse()},afterCreateCourse:function(){var t=this.$route.query.course;if(t)return t=JSON.parse(t),this.selectedCourseId=t.id,this.selectedCourseSetId=t.courseSetId,this.maxStudentNum=t.maxStudentNum>0?t.maxStudentNum:1e5,this.course.list.push(t),this.$set(this.course,"initialValue",t.id),this.fetchCourse(),this.fetchProducts(),void this.fetchCourseInfo(t.id);this.initFetch()},duplicateRemoval:function(t,e){S.a.forEach(t,(function(a,r){if(a.id==e)return t.splice(r,1),!1}))},disabledTeacher:function(t){var e=t||this.form.getFieldValue("assistantIds")||this.assistant.initialValue;S.a.forEach(this.teacher.list,(function(t){S.a.includes(e,t.id)||(t.disabled=!1),S.a.forEach(e,(function(e){t.id==e&&(t.disabled=!0)}))}))},disabledAssistant:function(t){var e=t||this.form.getFieldValue("teacherId")||this.teacher.initialValue;S.a.forEach(this.assistant.list,(function(t){t.id==e?t.disabled=!0:t.disabled=!1}))},fetchNotificationSetting:function(){var t=this;b.F.get("wechat_message_subscribe").then((function(e){t.notificationShow=e.enable}))},fetchCourseInfo:function(t){var e=this;this.form.resetFields(["teacherId","assistantIds"]),b.g.getSingleCourse(t).then((function(t){var a=t.teachers,r=t.assistants,i=t.maxStudentNum,n=a[0],s=r;e.teacher={list:[n],title:"",flag:!0,initialValue:n.id,paging:{pageSize:10,current:0}};var o=[];S.a.forEach(s,(function(t){o.push(t.id)})),e.assistant={list:s,title:"",flag:!0,initialValue:o,paging:{pageSize:10,current:0}},e.form.setFieldsValue({teacherId:n.id,assistantIds:o,maxStudentNum:i}),e.fetchAssistants(),e.fetchTeacher()}))},fetchEditorMultiClass:function(){var t=this;b.u.get(this.multiClassId).then((function(e){var a=e.title,r=e.course,i=e.courseId,n=e.product,s=e.productId,o=e.teachers,l=e.teacherIds,u=e.assistants,c=e.assistantIds,d=e.maxStudentNum,h=e.service_setting_type,f=e.service_group_num,p=e.group_limit_num,m=e.isReplayShow,v=e.liveRemindTime;t.form.setFieldsValue({title:a,maxStudentNum:d,service_setting_type:h,service_group_num:f,group_limit_num:p,isReplayShow:m,liveRemindTime:Number(v)}),t.selectedCourseId=i,t.selectedCourseSetId=r.courseSetId,t.maxStudentNum=r.maxStudentNum>0?r.maxStudentNum:1e5,t.course.list=[r],t.course.initialValue=i,t.product.list=[n],t.product.initialValue=s,t.teacher.list=o,t.teacher.initialValue=l[0],t.assistant.list=u,t.assistant.initialValue=c,t.initFetch()}))},fetchCourse:function(){var t=this,e=this.course,a=e.title,r=e.paging,i=r.pageSize,n={isDefault:1,limit:i,offset:i*r.current,type:"live",excludeMultiClassCourses:!0,sort:"-createdTime"};a&&(n.courseSetTitleLike=a),b.g.searchCourses(n).then((function(e){t.course.paging.current++,t.course.initialValue&&t.duplicateRemoval(e.data,t.course.initialValue),t.course.list=S.a.concat(t.course.list,e.data),S.a.size(t.course.list)>=e.paging.total&&(t.course.flag=!1)}))},handleSearchCourse:S.a.debounce((function(t){this.course={list:[],title:t,flag:!0,paging:{pageSize:10,current:0}},this.fetchCourse()}),300),courseScroll:S.a.debounce((function(t){var e=t.target;e.scrollHeight-e.offsetHeight-20<e.scrollTop&&this.course.flag&&this.fetchCourse()}),300),fetchProducts:function(){var t=this,e=this.product,a=e.title,r=e.paging,i=r.pageSize,n={limit:i,offset:i*r.current};a&&(n.keywords=a),b.x.search(n).then((function(e){t.product.paging.current++,t.product.initialValue&&t.duplicateRemoval(e.data,t.product.initialValue),t.product.list=S.a.concat(t.product.list,e.data),S.a.size(t.product.list)>=e.paging.total&&(t.product.flag=!1)}))},productScroll:S.a.debounce((function(t){var e=t.target;e.scrollHeight-e.offsetHeight-20<e.scrollTop&&this.product.flag&&this.fetchProducts()}),300),handleSearchProduct:S.a.debounce((function(t){this.product={list:[],title:t,flag:!0,paging:{pageSize:10,current:0}},this.fetchProducts()}),300),fetchTeacher:function(){var t=this,e=this.teacher,a=e.title,r=e.paging,i=r.pageSize,n={limit:i,offset:i*r.current};a&&(n.nickname=a),b.G.search(n).then((function(e){t.teacher.paging.current++,t.teacher.initialValue&&t.duplicateRemoval(e.data,t.teacher.initialValue),t.teacher.list=S.a.concat(t.teacher.list,e.data),S.a.size(t.teacher.list)>=e.paging.total&&(t.teacher.flag=!1),t.disabledTeacher()}))},handleSearchTeacher:S.a.debounce((function(t){this.teacher={list:[],title:t,flag:!0,paging:{pageSize:10,current:0}},this.fetchTeacher()}),300),teacherScroll:S.a.debounce((function(t){var e=t.target;e.scrollHeight-e.offsetHeight-20<e.scrollTop&&this.teacher.flag&&this.fetchTeacher()}),300),fetchAssistants:function(){var t=this,e=this.assistant,a=e.title,r=e.paging,i=r.pageSize,n={limit:i,offset:i*r.current};a&&(n.nickname=a),b.b.search(n).then((function(e){t.assistant.paging.current++,S.a.forEach(t.assistant.initialValue,(function(a){t.duplicateRemoval(e.data,a)})),t.assistant.list=S.a.concat(t.assistant.list,e.data),S.a.size(t.assistant.list)>=e.paging.total&&(t.assistant.flag=!1),t.disabledAssistant()}))},handleSearchAssistant:S.a.debounce((function(t){this.assistant={list:[],title:t,flag:!0,paging:{pageSize:10,current:0}},this.fetchAssistants()}),300),assistantScroll:S.a.debounce((function(t){var e=t.target;e.scrollHeight-e.offsetHeight-20<e.scrollTop&&this.assistant.flag&&this.fetchAssistants()}),300),handleChangeCourse:function(t){var e=this;this.selectedCourseId=t,S.a.forEach(this.course.list,(function(a){if(a.id==t)return e.selectedCourseSetId=a.courseSet.id,e.maxStudentNum=a.maxStudentNum>0?a.maxStudentNum:1e5,!1})),this.fetchCourseInfo(t)},handleChange:function(t,e){"teacher"!==e?"assistant"===e&&this.disabledTeacher(t):this.disabledAssistant(t)},validatorTitle:function(t,e,a){var r=this;return y()(C().mark((function t(){var i;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.M.search({type:"multiClass",title:e,exceptId:r.multiClassId});case 2:i=t.sent,i.result||a("班课名称不能与已创建的相同"),e&&e.replace(/[\u0391-\uFFE5]/g,"aa").length/2>40&&a("班课名称不能超过40个字符"),a();case 7:case"end":return t.stop()}}),t)})))()},validatorAssistant:function(t,e,a){e.length>20?a("最多选择20个助教"):a()},validateStudentNum:function(t,e,a){e&&!1===/^\+?[1-9][0-9]*$/.test(e)&&a("请输入正整数"),e>Number(this.maxStudentNum)&&a("人数范围在0-".concat(this.maxStudentNum,"人")),a()},validateAssistantNum:function(t,e,a){e&&!1===/^\+?[0-9][0-9]*$/.test(e)&&a("请输入整数"),a()},validateGroupNum:function(t,e,a){e&&!1===/^\+?[0-9][0-9]*$/.test(e)&&a("请输入整数"),a()},handleSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t,a){t||(a.type="group","create"!==e.mode?"editor"===e.mode&&e.editorMultiClass(a):e.createMultiClass(a))}))},createMultiClass:function(t){var e=this;this.ajaxLoading=!0,b.u.add(t).then((function(){e.cancelCreate()})).finally((function(){e.ajaxLoading=!1}))},editorMultiClass:function(t){var e=this;this.ajaxLoading=!0,b.u.editorMultiClass(this.multiClassId,t).then((function(){e.cancelCreate()})).finally((function(){e.ajaxLoading=!1}))},cancelCreate:function(){this.$router.push({name:"MultiClass",params:this.$route.params.paging||{}})},getMultiClassSetting:function(){var t=this;return y()(C().mark((function e(){var a,r,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("editor"!=t.mode){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b.y.search();case 4:a=e.sent,r=a.group_number_limit,i=a.assistant_group_limit,t.form.setFieldsValue({group_limit_num:r,service_group_num:i});case 8:case"end":return e.stop()}}),e)})))()}}},V=(a(1958),a(22)),I=Object(V.a)(N,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside-layout",{staticStyle:{"padding-bottom":"88px"},attrs:{breadcrumbs:[{name:t.breadcrumbName}]}},[a("a-form",{staticStyle:{"max-width":"1000px"},attrs:{form:t.form,"label-col":{span:4},"wrapper-col":{span:20},autoComplete:"off"}},[a("a-form-item",{attrs:{label:"班课名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{trigger:"blur",rules:[{required:!0,message:"请填写班课名称"},{validator:t.validatorTitle}]}],expression:"['title', {\n          trigger: 'blur',\n          rules: [\n            { required: true, message: '请填写班课名称' },\n            { validator: validatorTitle }\n          ]\n        }]"}],attrs:{placeholder:"请输入班课名称"}})],1),t._v(" "),a("a-form-item",{attrs:{label:"选择课程"}},[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:"editor"===t.mode?24:20}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["courseId",{initialValue:t.course.initialValue,rules:[{required:!0,message:"请选择课程"}]}],expression:"['courseId', {\n              initialValue: course.initialValue,\n              rules: [\n                { required: true, message: '请选择课程' }\n              ]\n            }]"}],attrs:{"show-search":"","filter-option":!1,placeholder:"请选择课程",disabled:"editor"===t.mode},on:{popupScroll:t.courseScroll,search:t.handleSearchCourse,change:t.handleChangeCourse}},t._l(t.course.list,(function(e){return a("a-select-option",{key:e.id},[t._v("\n              "+t._s(e.courseSetTitle)+"\n            ")])})),1)],1),t._v(" "),"editor"!==t.mode?a("a-col",{attrs:{span:4}},[a("a-button",{attrs:{type:"primary",block:!0},on:{click:function(e){return t.$router.push({name:"MultiClassCreateCourse",query:{type:"group"}})}}},[a("a-icon",{attrs:{type:"plus"}}),t._v("\n            创建新课程\n          ")],1)],1):t._e()],1)],1),t._v(" "),a("a-form-item",{attrs:{label:"所属产品"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["productId",{initialValue:t.product.initialValue,rules:[{required:!0,message:"请选择归属产品"}]}],expression:"['productId', {\n          initialValue: product.initialValue,\n          rules: [\n            { required: true, message: '请选择归属产品' }\n          ]\n        }]"}],attrs:{"show-search":"","filter-option":!1,placeholder:"请选择归属产品"},on:{popupScroll:t.productScroll,search:t.handleSearchProduct}},t._l(t.product.list,(function(e){return a("a-select-option",{key:e.id},[t._v("\n          "+t._s(e.title)+"\n        ")])})),1)],1),t._v(" "),a("a-form-item",{attrs:{label:"授课老师"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["teacherId",{initialValue:t.teacher.initialValue,rules:[{required:!0,message:"请选择授课老师"}]}],expression:"['teacherId', {\n          initialValue: teacher.initialValue,\n          rules: [\n            { required: true, message: '请选择授课老师' }\n          ]\n        }]"}],attrs:{"show-search":"","filter-option":!1,placeholder:"请选择授课教师"},on:{popupScroll:t.teacherScroll,change:function(e){return t.handleChange(e,"teacher")},search:t.handleSearchTeacher}},t._l(t.teacher.list,(function(e){return a("a-select-option",{key:e.id,attrs:{disabled:e.disabled}},[t._v("\n          "+t._s(e.nickname)+"\n        ")])})),1)],1),t._v(" "),a("a-form-item",{attrs:{label:"助教"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["assistantIds",{initialValue:t.assistant.initialValue,rules:[{required:!0,message:"至少选择一位助教"},{validator:t.validatorAssistant}]}],expression:"['assistantIds', {\n          initialValue: assistant.initialValue,\n          rules: [\n            { required: true, message: '至少选择一位助教' },\n            { validator: validatorAssistant }\n          ]\n        }]"}],attrs:{"show-search":"","filter-option":!1,mode:"multiple",placeholder:"请选择助教","option-label-prop":"label"},on:{popupScroll:t.assistantScroll,search:t.handleSearchAssistant,blur:function(){return t.handleSearchAssistant("")},change:function(e){return t.handleChange(e,"assistant")}}},t._l(t.assistant.list,(function(e){return a("a-select-option",{key:e.id,attrs:{label:e.nickname,disabled:e.disabled}},[t._v("\n          "+t._s(e.nickname)+" "),0===Number(e.isScrmBind)?a("span",{staticClass:"assistant-tip"},[t._v("提示：该助教未绑定销客助手，可能会影响学习服务")]):t._e()])})),1),t._v(" "),a("div",{staticClass:"pull-left color-gray"},[a("a-icon",{staticStyle:{color:"#bebebe"},attrs:{type:"exclamation-circle"}}),t._v("\n        用户中心设置助教\n        "),a("a",{attrs:{href:"/admin/v2/user",target:"_blank"}},[t._v("去设置")])],1)],1),t._v(" "),a("a-form-item",{staticClass:"assistant-max-number",attrs:{label:"分组容纳学员上限","wrapper-col":{span:3}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["group_limit_num",{rules:[{required:!0,message:"请输入分组容纳学员人数"},{validator:t.validateGroupNum}]}],expression:"['group_limit_num', {\n            rules: [\n              { required: true, message: '请输入分组容纳学员人数' },\n              { validator: validateGroupNum }\n             ]\n           }]"}]},[a("span",{attrs:{slot:"suffix"},slot:"suffix"},[t._v("人")])]),t._v(" "),a("a-popover",{attrs:{placement:"right"}},[a("template",{slot:"content"},[t._v("\n          第1组学员达到上限后，将自动生成第2组添加学员，依次类推\n        ")]),t._v(" "),a("svg-icon",{staticClass:"icon-tip",attrs:{icon:"icon-tip"}})],2),t._v(" "),a("span",{staticClass:"tip-color setup-tip"},[t._v("可去【参数设置】中设置默认值")])],1),t._v(" "),a("a-form-item",{attrs:{label:"排课"}},[a("Schedule",{attrs:{"course-id":t.selectedCourseId,"course-set-id":t.selectedCourseSetId}})],1),t._v(" "),a("a-form-item",{attrs:{label:"限购人数"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["maxStudentNum",{rules:[{required:!0,message:"请输入限购人数"},{validator:t.validateStudentNum}]}],expression:"['maxStudentNum', {\n        rules: [\n          { required: true, message: '请输入限购人数' },\n          { validator: validateStudentNum }\n          ]\n        }]"}],attrs:{disabled:!t.form.getFieldValue("courseId")}},[a("span",{attrs:{slot:"suffix"},slot:"suffix"},[t._v("人")])])],1),t._v(" "),a("a-form-item",{attrs:{label:"直播回放观看"}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isReplayShow",{initialValue:"1"}],expression:"['isReplayShow', { initialValue: '1'}]"}],attrs:{options:[{label:"开启",value:"1"},{label:"关闭",value:"0"}]}})],1),t._v(" "),""!==t.notificationShow?a("a-form-item",{attrs:{label:"通知设置"}},[a("a-form-item",{staticStyle:{position:"relative",left:"-7.5%","margin-top":"50px"}},[a("div",{staticClass:"pull-left mr12"},[t._v("开课提醒")]),t._v(" "),t.notificationShow?a("div",[a("div",{staticClass:"pull-left"},[t._v("开课")]),t._v(" "),a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["liveRemindTime",{initialValue:5}],expression:"['liveRemindTime', { initialValue: 5 }]"}],staticClass:"pull-left ml8",staticStyle:{width:"200px"}},t._l([0,5,15,30,60,1440],(function(e){return a("a-select-option",{key:e,attrs:{value:e}},[0===e?[t._v("不通知")]:1440===e?[t._v("1天前")]:[t._v(t._s(e)+"分钟")]],2)})),1),t._v(" "),a("div",{staticClass:"pull-left ml8"},[t._v("自动发送提醒")])],1):t._e(),t._v(" "),t.notificationShow?t._e():a("div",[a("a-icon",{staticStyle:{color:"#bebebe"},attrs:{type:"info-circle"}}),t._v("\n          尚未在系统后台配置微信通知，开启配置，才可使用该功能\n          "),a("a",{attrs:{href:"/admin/v2/wechat/notification/manage",target:"_blank"}},[t._v("去设置")])],1)])],1):t._e()],1),t._v(" "),a("div",{staticClass:"create-multi-class-btn-group"},[a("a-space",{attrs:{size:"large"}},[a("a-button",{attrs:{type:"primary",loading:t.ajaxLoading},on:{click:t.handleSubmit}},[t._v("\n        "+t._s("editor"===t.mode?"确定":"立即创建")+"\n      ")]),t._v(" "),a("a-button",{on:{click:t.cancelCreate}},[t._v("\n        取消\n      ")])],1)],1)],1)}),[],!1,null,null,null);e.default=I.exports},1778:function(t,e,a){},1958:function(t,e,a){"use strict";var r=a(1778);a.n(r).a}}]);