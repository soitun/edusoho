/*! For license information please see Overview.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[459],{1612:function(t,e,a){"use strict";a.r(e);var r=a(16),n=a.n(r),i=a(26),o=a.n(i),s=a(19),c=a.n(s),u=a(37),l=a.n(u),d=a(13),h=a.n(d),p=a(24),f=a.n(p),v=a(20),m=a.n(v),g=a(23),y=a.n(g),_=a(30),b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(t.query,t.params),a=void 0===e?{}:e;t.data;return _.a.get("/api/dashboard_graphic_datum",{params:a})},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(t.query,t.params),a=void 0===e?{}:e;t.data;return _.a.get("/api/dashboard_rank_list",{params:a})},D=a(1653),L={name:"dashboardCard",components:{},props:{graphicData:{type:Object,require:!0}},data:function(){return{}},computed:{},mounted:function(){},methods:{}},x=(a(1965),a(22)),C=Object(x.a)(L,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-card"},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:6}},[a("a-card",{staticStyle:{"border-top":"2px solid #5CCFEA"},attrs:{bordered:!1}},[a("a-row",[a("div",{staticClass:"card"},[a("svg-icon",{staticClass:"icon icon-add-student",attrs:{icon:"icon-add-student"}}),t._v(" "),a("div",{staticClass:"right-block"},[a("p",{staticClass:"card-title text-size"},[t._v("昨日新增学员总人数")]),t._v(" "),a("span",{staticClass:"card-count text-size",staticStyle:{color:"#5CCFEA"}},[t._v(t._s(t.graphicData.totalNewStudentNum))])])],1)])],1)],1),t._v(" "),a("a-col",{attrs:{span:6}},[a("a-card",{staticStyle:{"border-top":"2px solid #FFC173"},attrs:{bordered:!1}},[a("a-row",[a("div",{staticClass:"card"},[a("svg-icon",{staticClass:"icon icon-add-student-success",attrs:{icon:"icon-add-student-success"}}),t._v(" "),a("div",{staticClass:"right-block"},[a("p",{staticClass:"card-title text-size"},[t._v("昨日结课学员总人数")]),t._v(" "),a("span",{staticClass:"card-count text-size",staticStyle:{color:"#FFC173"}},[t._v(t._s(t.graphicData.totalFinishedStudentNum))])])],1)])],1)],1),t._v(" "),a("a-col",{attrs:{span:6}},[a("router-link",{attrs:{to:{name:"MultiClassInspection"}}},[a("a-card",{staticStyle:{"border-top":"2px solid #42D668"},attrs:{bordered:!1}},[a("a-row",[a("div",{staticClass:"card"},[a("svg-icon",{staticClass:"icon icon-live-broad",attrs:{icon:"icon-live-broad"}}),t._v(" "),a("div",{staticClass:"right-block"},[a("p",{staticClass:"card-title text-size"},[t._v("今日直播数")]),t._v(" "),a("span",{staticClass:"card-count text-size",staticStyle:{color:"#42D668"}},[t._v(t._s(t.graphicData.todayLiveData.overLiveNum)+"/"),a("span",{staticStyle:{color:"#BEBEBE"}},[t._v(t._s(t.graphicData.todayLiveData.totalLiveNum))])])])],1)])],1)],1)],1),t._v(" "),a("a-col",{attrs:{span:6}},[a("router-link",{attrs:{to:{name:"Overtime"}}},[a("a-card",{staticStyle:{"border-top":"2px solid #FF6666"},attrs:{bordered:!1}},[a("a-row",[a("div",{staticClass:"card"},[a("svg-icon",{staticClass:"icon icon-edit-group",attrs:{icon:"icon-edit-group"}}),t._v(" "),a("div",{staticClass:"right-block"},[a("p",{staticClass:"card-title text-size"},[t._v("超时未批阅数")]),t._v(" "),a("span",{staticClass:"card-count text-size",staticStyle:{color:"#FF6666"}},[t._v(t._s(t.graphicData.timeoutReviewNum))])])],1)])],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,S=a(1838),k={name:"xDiagram",components:{},props:{graphicData:Object},data:function(){return{}},computed:{chartDataDouble:function(){return[{item:"已开班班课",count:this.graphicData.startNum},{item:"未开班班课",count:this.graphicData.notStartNum}]}},mounted:function(){},watch:{chartDataDouble:{handler:function(){this.initChart()},deep:!0}},methods:{initChart:function(){var t=this,e=new S.a({container:"xDiagram",autoFit:!0,height:258,defaultInteractions:["tooltip"]});e.data(this.chartDataDouble),e.coordinate("theta",{radius:.7,innerRadius:.6}),e.legend({position:"left",background:{padding:[0,0,0,60],style:"border:unset"},itemHeight:80,itemName:{formatter:function(e,a,r){return"".concat(e,": ").concat(t.chartDataDouble[r].count)},style:{fontSize:18}}}),e.tooltip({showTitle:!1,showMarkers:!1,itemTpl:'<li class="g2-tooltip-list-item"><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}: {value}</li>'}),e.interval().adjust("stack").position("count").color("item",["#5AD8A6","#5B8FF9"]).label("item",(function(){return{offset:18,style:{fontSize:18}}})).tooltip("item*count",(function(t,e){return{name:t,value:e}})),e.removeInteraction("legend-filter"),e.render()}}},E=Object(x.a)(k,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{attrs:{id:"xDiagram"}})])}],!1,null,"d73e9e4e",null).exports,N={name:"yDiagram",components:{},props:{graphicData:Object},data:function(){return{}},computed:{chartDataDouble:function(){return[{item:"在读学员人数",count:this.graphicData.studyNum},{item:"未开班学员人数",count:this.graphicData.notStudyNum}]}},mounted:function(){},watch:{chartDataDouble:{handler:function(){this.initChart()},deep:!0}},methods:{initChart:function(){var t=this,e=new S.a({container:"yDiagram",autoFit:!0,height:258,defaultInteractions:["tooltip"]});e.data(this.chartDataDouble),e.coordinate("theta",{radius:.7,innerRadius:.6}),e.legend({position:"left",background:{padding:[0,0,0,60],style:"border:unset"},itemHeight:80,itemName:{formatter:function(e,a,r){return"".concat(e,": ").concat(t.chartDataDouble[r].count)},style:{fontSize:18}}}),e.tooltip({showTitle:!1,showMarkers:!1,itemTpl:'<li class="g2-tooltip-list-item"><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}: {value}</li>'}),e.interval().adjust("stack").position("count").color("item",["#5AD8A6","#5B8FF9"]).label("item",(function(){return{offset:18,style:{fontSize:18}}})).tooltip("item*count",(function(t,e){return{name:t,value:e}})),e.removeInteraction("legend-filter"),e.render()}}},T=Object(x.a)(N,(function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"yDiagram"}})}),[],!1,null,"470b9f74",null).exports,F=a(74),j=a.n(F),O={name:"TableData",components:{},props:{title:{type:String,require:!0},data:{type:Object,required:!0}},data:function(){return{columns:[{title:"排名",dataIndex:"rank",align:"center",width:"30%",ellipsis:!0,scopedSlots:{customRender:"rank"}},{title:"班课名称",dataIndex:"multiClass",ellipsis:!0},{dataIndex:"rate",ellipsis:!0,scopedSlots:{customRender:"rate",title:"rateTitle"}}],order:"descSort"}},computed:{tableData:function(){var t=this.data,e=t.ascSort,a=t.descSort;return e=j.a.slice(e,0,10),a=j.a.slice(a,0,10),"ascSort"===this.order?e:a}},created:function(){},methods:{changeOrder:function(t){this.order=t.target.value},toPercent:function(t){var e=Number(100*t).toFixed(0);return e+="%"}}},R=(a(1973),Object(x.a)(O,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-data"},[a("div",{staticClass:"title"},[a("span",{staticClass:"text"},[t._v(t._s(t.title))]),t._v(" "),a("a-radio-group",{staticClass:"title-button",attrs:{"default-value":"descSort","button-style":"solid"},on:{change:t.changeOrder}},[a("a-radio-button",{attrs:{value:"ascSort"}},[t._v("\n        升序\n      ")]),t._v(" "),a("a-radio-button",{attrs:{value:"descSort"}},[t._v("\n        降序\n      ")])],1)],1),t._v(" "),a("a-table",{attrs:{columns:t.columns,"data-source":t.tableData,pagination:!1,"row-key":"courseId"},scopedSlots:t._u([{key:"rank",fn:function(e,a,r){return[t._v("\n      "+t._s(r+1)+"\n    ")]}},{key:"rate",fn:function(e,r){return[a("span",e||0===e?[t._v(t._s(t.toPercent(e)))]:[t._v(t._s(r.count))])]}}])},[t._v(" "),t._v(" "),a("template",{slot:"rateTitle"},[a("span",[t._v(t._s(t.title))])])],2)],1)}),[],!1,null,"268b0cdf",null).exports);function A(){A=function(){return e};var t,e={},a=Object.prototype,r=a.hasOwnProperty,i=m.a||function(t,e,a){t[e]=a.value},s="function"==typeof f.a?f.a:{},u=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",p=s.toStringTag||"@@toStringTag";function v(t,e,a){return m()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{v({},"")}catch(t){v=function(t,e,a){return t[e]=a}}function g(t,e,a,r){var n=e&&e.prototype instanceof L?e:L,o=h()(n.prototype),s=new $(r||[]);return i(o,"_invoke",{value:j(t,a,s)}),o}function y(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}e.wrap=g;var _="suspendedStart",b="executing",w="completed",D={};function L(){}function x(){}function C(){}var S={};v(S,u,(function(){return this}));var k=l.a,E=k&&k(k(q([])));E&&E!==a&&r.call(E,u)&&(S=E);var N=C.prototype=L.prototype=h()(S);function T(t){["next","throw","return"].forEach((function(e){v(t,e,(function(t){return this._invoke(e,t)}))}))}function F(t,e){function a(n,i,o,s){var u=y(t[n],t,i);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==c()(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,o,s)}),(function(t){a("throw",t,o,s)})):e.resolve(d).then((function(t){l.value=t,o(l)}),(function(t){return a("throw",t,o,s)}))}s(u.arg)}var n;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,n){a(t,r,e,n)}))}return n=n?n.then(i,i):i()}})}function j(e,a,r){var n=_;return function(i,o){if(n===b)throw Error("Generator is already running");if(n===w){if("throw"===i)throw o;return{value:t,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===D)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===_)throw n=w,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=b;var u=y(e,a,r);if("normal"===u.type){if(n=r.done?w:"suspendedYield",u.arg===D)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=w,r.method="throw",r.arg=u.arg)}}}function O(e,a){var r=a.method,n=e.iterator[r];if(n===t)return a.delegate=null,"throw"===r&&e.iterator.return&&(a.method="return",a.arg=t,O(e,a),"throw"===a.method)||"return"!==r&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+r+"' method")),D;var i=y(n,e.iterator,a.arg);if("throw"===i.type)return a.method="throw",a.arg=i.arg,a.delegate=null,D;var o=i.arg;return o?o.done?(a[e.resultName]=o.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,D):o:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,D)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function $(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function q(e){if(e||""===e){var a=e[u];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function a(){for(;++n<e.length;)if(r.call(e,n))return a.value=e[n],a.done=!1,a;return a.value=t,a.done=!0,a};return i.next=i}}throw new TypeError(c()(e)+" is not iterable")}return x.prototype=C,i(N,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:x,configurable:!0}),x.displayName=v(C,p,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return o.a?o()(t,C):(t.__proto__=C,v(t,p,"GeneratorFunction")),t.prototype=h()(N),t},e.awrap=function(t){return{__await:t}},T(F.prototype),v(F.prototype,d,(function(){return this})),e.AsyncIterator=F,e.async=function(t,a,r,i,o){void 0===o&&(o=n.a);var s=new F(g(t,a,r,i),o);return e.isGeneratorFunction(a)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},T(N),v(N,p,"Generator"),v(N,u,(function(){return this})),v(N,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),a=[];for(var r in e)a.push(r);return a.reverse(),function t(){for(;a.length;){var r=a.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=q,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var a in this)"t"===a.charAt(0)&&r.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function n(r,n){return s.type="throw",s.arg=e,a.next=r,n&&(a.method="next",a.arg=t),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,D):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),D},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),I(a),D}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var r=a.completion;if("throw"===r.type){var n=r.arg;I(a)}return n}}throw Error("illegal catch attempt")},delegateYield:function(e,a,r){return this.delegate={iterator:q(e),resultName:a,nextLoc:r},"next"===this.method&&(this.arg=t),D}},e}var I={name:"overview",components:{AsideLayout:D.a,DashboardCard:C,XDiagram:E,YDiagram:T,TableData:R},data:function(){return{graphicData:{totalNewStudentNum:0,totalFinishedStudentNum:0,todayLiveData:{totalLiveNum:0,overLiveNum:0},timeoutReviewNum:0,multiClassData:{startNum:0,notStartNum:0},studyStudentData:{studyNum:0,notStudyNum:0}},studentDataSource:{newStudentRankList:{},reviewData:{},finishedRateList:{},questionAnswerRateList:{}},getListLoading:!1,titleTip:"仅统计班课相关数据"}},computed:{},created:function(){this.getGraphicData(),this.getRankData()},methods:{getGraphicData:function(){var t=this;return y()(A().mark((function e(){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.getListLoading=!0,e.next=4,b();case 4:t.graphicData=e.sent;case 5:return e.prev=5,t.getListLoading=!1,e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})))()},getRankData:function(){var t=this;return y()(A().mark((function e(){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.getListLoading=!0,e.next=4,w();case 4:t.studentDataSource=e.sent;case 5:return e.prev=5,t.getListLoading=!1,e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})))()}}},$=(a(1974),Object(x.a)(I,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside-layout",{attrs:{breadcrumbs:[{name:"教务仪表盘"}],titleTip:t.titleTip}},[a("a-spin",{attrs:{spinning:t.getListLoading}},[a("dashboard-card",{attrs:{graphicData:t.graphicData}}),t._v(" "),a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:12}},[a("div",{staticClass:"diagram-layout"},[a("x-diagram",{attrs:{graphicData:t.graphicData.multiClassData}})],1)]),t._v(" "),a("a-col",{attrs:{span:12}},[a("div",{staticClass:"diagram-layout"},[a("y-diagram",{attrs:{graphicData:t.graphicData.studyStudentData}})],1)])],1),t._v(" "),a("a-row",{attrs:{gutter:[24,32]}},[a("a-col",{attrs:{span:12}},[a("table-data",{attrs:{title:"昨日新增学员人数",data:t.studentDataSource.newStudentRankList}})],1),t._v(" "),a("a-col",{attrs:{span:12}},[a("table-data",{attrs:{title:"昨日完课率",data:t.studentDataSource.finishedRateList}})],1)],1),t._v(" "),a("a-row",{attrs:{gutter:[24,32]}},[a("a-col",{attrs:{span:12}},[a("table-data",{attrs:{title:"作业批改率",data:t.studentDataSource.reviewData}})],1),t._v(" "),a("a-col",{attrs:{span:12}},[a("table-data",{attrs:{title:"问答回答率",data:t.studentDataSource.questionAnswerRateList}})],1)],1)],1)],1)}),[],!1,null,"755bd982",null));e.default=$.exports},1652:function(t,e,a){},1653:function(t,e,a){"use strict";var r={name:"AsideLayout",props:{breadcrumbs:{type:Array,required:!0},headerTitle:{type:String,default:""},headerTip:{type:String,default:""},titleTip:{type:String,default:""}}},n=(a(1654),a(22)),i=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"aside-layout"},[a("div",{staticClass:"aside-layout-header"},[a("a-breadcrumb",{staticClass:"pull-left aside-layout-header__breadcrumb",attrs:{separator:"/"}},t._l(t.breadcrumbs,(function(e,r){return a("a-breadcrumb-item",{key:r},[e.href?[a("a",{attrs:{href:e.href,target:"_blank"}},[t._v(t._s(e.name))])]:e.pathName?[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.$router.push({name:e.pathName})}}},[t._v(t._s(e.name))])]:[t._v("\n          "+t._s(e.name)+"\n        ")]],2)})),1),t._v(" "),t.headerTip?a("a-popover",{attrs:{placement:"bottomLeft"}},[a("template",{slot:"content"},[a("div",{staticClass:"aside-header-tip",domProps:{innerHTML:t._s(t.headerTip)}})]),t._v(" "),a("span",{staticClass:"aside-header-title-icon"},[a("a-icon",{attrs:{theme:"filled",type:"question-circle"}}),a("span",{staticClass:"icon-circle"},[t._v(t._s(t.headerTitle))])],1)],2):t._e(),t._v(" "),t.titleTip?a("span",{staticClass:"aside-header-title-icon"},[t._v(t._s(t.titleTip))]):t._e()],1),t._v(" "),a("div",{staticClass:"aside-layout-main"},[t._t("default")],2)])}),[],!1,null,null,null);e.a=i.exports},1654:function(t,e,a){"use strict";var r=a(1652);a.n(r).a},1785:function(t,e,a){},1803:function(t,e,a){},1804:function(t,e,a){},1965:function(t,e,a){"use strict";var r=a(1785);a.n(r).a},1973:function(t,e,a){"use strict";var r=a(1803);a.n(r).a},1974:function(t,e,a){"use strict";var r=a(1804);a.n(r).a},30:function(t,e,a){"use strict";a.d(e,"a",(function(){return u}));var r=a(16),n=a.n(r),i=(a(25),a(75)),o=a.n(i),s=a(54),c=a(316),u=o.a.create({timeout:15e3}),l=document.getElementsByTagName("meta")["csrf-token"];l&&localStorage.setItem("csrf-token",l.content),u.interceptors.request.use((function(t){return t.headers["X-Requested-With"]="XMLHttpRequest",t.headers["X-CSRF-Token"]=localStorage.getItem("csrf-token"),t.headers.Accept="application/vnd.edusoho.v2+json",t}),(function(t){return n.a.reject(t)}));var d=[401];u.interceptors.response.use((function(t){return t.data}),(function(t){if(!d.includes(t.response.status)){try{[4042701].includes(t.response.data.error.code)||s.a.prototype.$message.error(t.response.data.error.message)}catch(t){}return n.a.reject(t)}Object(c.a)()}))},316:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var r=$("#login-modal");function n(){0==$("meta[name=wechat_login_bind]").attr("content")?($(".modal").modal("hide"),r.modal("show"),$.get(r.data("url"),(function(t){r.html(t)}))):window.location.href="/login"}}}]);